(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"6uN0":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("tk/3"),o=n("AytR"),i=n("fXoL");let r=(()=>{class e{constructor(e){this.http=e,this.url=o.a.apiURI}findAsignaturas(e="",t="asc",n=0,o=3){return this.http.get("asignaturas/paginado2",{params:(new a.c).set("filter",e).set("sortOrder",t).set("pageNumber",n.toString()).set("pageSize",o.toString())})}obtenerAsignaturaPorId(e){return this.http.get(this.url+"asignaturas/"+e)}obtenerAsignaturas(){return this.http.get(this.url+"asignaturas")}obtenerAsignaturasHabilitadas(){return this.http.get(this.url+"asignaturas/habilitados")}agregarAsignatura(e){return this.http.put(this.url+"asignaturas",e)}actualizarAsignatura(e,t){return this.http.patch(this.url+"asignaturas/"+e,t)}eliminarAsignatura(e){return this.http.delete(this.url+"asignaturas/"+e)}deshabilitarAsignatura(e,t){return this.http.put(this.url+"asignaturas/deshabilitar/"+e,{activo:t})}habilitarAsignatura(e,t){return this.http.put(this.url+"asignaturas/habilitar/"+e,{activo:t})}}return e.\u0275fac=function(t){return new(t||e)(i.ac(a.a))},e.\u0275prov=i.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},FvF8:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("fXoL"),o=n("MSSf");let i=(()=>{class e{constructor(){this.texto="Sin Resultados"}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Kb({type:e,selectors:[["app-empty-data"]],inputs:{texto:"texto"},decls:3,vars:1,consts:[[1,"",2,"display","flex","justify-content","center","align-items","center","border-radius","0"]],template:function(e,t){1&e&&(a.Wb(0,"mat-card",0),a.Wb(1,"h4"),a.Oc(2),a.Vb(),a.Vb()),2&e&&(a.Db(2),a.Pc(t.texto))},directives:[o.a],encapsulation:2}),e})()},Jo7X:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("fXoL"),o=n("ofXK"),i=n("znSr");const r=function(e,t){return{top:e,left:t}};let c=(()=>{class e{constructor(e){this.location=e,this.top="15px",this.left="25px"}ngOnInit(){}goBack(){this.location.back()}}return e.\u0275fac=function(t){return new(t||e)(a.Qb(o.n))},e.\u0275cmp=a.Kb({type:e,selectors:[["button-volver"]],inputs:{top:"top",left:"left"},decls:6,vars:4,consts:[["id","container",3,"ngStyle"],[1,"learn-more",3,"click"],["aria-hidden","true",1,"circle"],[1,"icon","arrow"],[1,"button-text"]],template:function(e,t){1&e&&(a.Wb(0,"div",0),a.Wb(1,"button",1),a.ec("click",(function(){return t.goBack()})),a.Wb(2,"span",2),a.Rb(3,"span",3),a.Vb(),a.Wb(4,"span",4),a.Oc(5,"VOLVER"),a.Vb(),a.Vb(),a.Vb()),2&e&&a.pc("ngStyle",a.sc(1,r,t.top,t.left))},directives:[o.w,i.c],styles:['#container[_ngcontent-%COMP%]{position:absolute;top:15px;left:25px}button[_ngcontent-%COMP%]{position:relative!important;display:inline-block!important;cursor:pointer!important;outline:none!important;border:0!important;vertical-align:middle!important;text-decoration:none!important;background:transparent!important;padding:0!important;font-size:inherit!important;font-family:inherit!important}button.learn-more[_ngcontent-%COMP%]{width:12rem;height:auto}button.learn-more[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{transition:all .45s cubic-bezier(.65,0,.076,1);position:relative;display:block;margin:0;width:3rem;height:3rem;background:#282936;border-radius:1.625rem}button.learn-more[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{transition:all .45s cubic-bezier(.65,0,.076,1);position:absolute;top:0;bottom:0;margin:auto;background:#fff}button.learn-more[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]   .icon.arrow[_ngcontent-%COMP%]{transition:all .45s cubic-bezier(.65,0,.076,1);left:.625rem;width:1.125rem;height:.125rem;background:none}button.learn-more[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]   .icon.arrow[_ngcontent-%COMP%]:before{position:absolute;content:"";top:-.25rem;width:.625rem;height:.625rem;border-top:.2rem solid #fff;border-right:.2rem solid #fff;transform:rotate(-135deg) scale(1.5)}button[_ngcontent-%COMP%]:hover   .circle[_ngcontent-%COMP%]{width:100%}button[_ngcontent-%COMP%]:hover   .circle[_ngcontent-%COMP%]   .icon.arrow[_ngcontent-%COMP%]{transform:translate(1rem)}button.learn-more[_ngcontent-%COMP%]   .button-text[_ngcontent-%COMP%]{transition:all .45s cubic-bezier(.65,0,.076,1);position:absolute;top:0;left:0;right:0;bottom:0;padding:.75rem 0;margin:-4px 0 0 1.85rem;color:transparent;font-weight:700;line-height:1.6;text-align:center;text-transform:uppercase}button[_ngcontent-%COMP%]:hover   .button-text[_ngcontent-%COMP%]{color:#fff}']}),e})()},Vr5k:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("tk/3"),o=n("AytR"),i=n("fXoL");let r=(()=>{class e{constructor(e){this.http=e,this.url=o.a.apiURI}obtenerPlanillaTalleresPaginado(e="",t="",n="asc",o=0,i=3){return this.http.get(this.url+"planilla-taller/paginar",{params:(new a.c).set("filter",e).set("sortField",t).set("sortOrder",n).set("pageNumber",o.toString()).set("pageSize",i.toString())})}obtenerPlanillaTallerPorId(e){return this.http.get(this.url+"planilla-taller/"+e)}obtenerPlanillaTallerPorIdCiclo(e,t){return this.http.get(this.url+`planilla-taller/filtro/${e}/${t}`)}obtenerPlanillaTalleres(){return this.http.get(this.url+"planilla-taller")}obtenerPlanillaTalleresHabilitadas(){return this.http.get(this.url+"planilla-taller/habilitados")}agregarPlanillaTaller(e){return this.http.put(this.url+"planilla-taller",e)}actualizarPlanillaTaller(e,t){return this.http.patch(this.url+"planilla-taller/"+e,t)}eliminarPlanillaTaller(e){return this.http.delete(this.url+"planilla-taller/"+e)}deshabilitarPlanillaTaller(e,t){return this.http.put(this.url+"planilla-taller/deshabilitar/"+e,{activo:t})}habilitarPlanillaTaller(e,t){return this.http.put(this.url+"planilla-taller/habilitar/"+e,{activo:t})}buscarAlumnosPorSeguimiento(e){return this.http.post(this.url+"planilla-taller/resueltos",{resuelto:e})}obtenerPlanillaTalleresPorCiclo(e){return this.http.get(this.url+"planilla-taller/ciclo/"+e)}buscarTotalAsistenciaPorPlanilla(e){return this.http.get(this.url+`planilla-taller/${e}/total-asistencias`)}obtenerPlanillasPorCursoCiclo(e,t,n,a){return this.http.post(this.url+"planilla-taller/por-curso-ciclo",{curso:e,comision:t,division:n,cicloLectivo:a})}}return e.\u0275fac=function(t){return new(t||e)(i.ac(a.a))},e.\u0275prov=i.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},"YZG+":function(e,t,n){"use strict";n.r(t),n.d(t,"momentAdapterFactory",(function(){return mo})),n.d(t,"AdministradorModule",(function(){return fo}));var a=n("ofXK"),o=n("9/K2"),i=n("PCNd"),r=n("tyNb"),c=n("mrSG"),l=n("ytpO"),s=n("VfN6"),u=n("wd/R"),d=n("PSD3"),p=n.n(d),h=n("tmTa"),m=n("LcAk"),f=n("fXoL"),b=n("XiUz"),g=n("IRfi"),v=n("A2Vd"),w=n("TY1r"),y=n("R3tS"),D=n("sCmA"),x=n("Xlwt"),O=n("znSr"),k=n("FvF8");const C=["sort"],S=["paginator"],E=["sortNo"],A=["paginatorNo"];function T(e,t){1&e&&(f.Wb(0,"th",23),f.Oc(1,"Nombre y Apellido"),f.Vb())}function M(e,t){if(1&e&&(f.Wb(0,"td",24),f.Oc(1),f.Vb()),2&e){const e=t.$implicit;f.Db(1),f.Pc(e.nombreCompleto)}}function L(e,t){1&e&&f.Rb(0,"tr",25)}const W=function(e){return{row_deshabilitado:e}};function R(e,t){1&e&&f.Rb(0,"tr",26),2&e&&f.pc("ngClass",f.rc(1,W,!t.$implicit.activo))}function V(e,t){1&e&&f.Rb(0,"app-empty-data")}function I(e,t){1&e&&(f.Wb(0,"th",23),f.Oc(1,"Nombre y Apellido"),f.Vb())}function P(e,t){if(1&e&&(f.Wb(0,"td",24),f.Oc(1),f.Vb()),2&e){const e=t.$implicit;f.Db(1),f.Pc(e.nombreCompleto)}}function j(e,t){1&e&&f.Rb(0,"tr",25)}function z(e,t){1&e&&f.Rb(0,"tr",26),2&e&&f.pc("ngClass",f.rc(1,W,!t.$implicit.activo))}function F(e,t){1&e&&f.Rb(0,"app-empty-data")}const B=function(){return[5,10,25,100]};let N=(()=>{class e{constructor(e,t){this.dialogRef=e,this.data=t,this.dataSource=new h.k([]),this.columnas=["nombreCompleto"],this.dataSourceNo=new h.k([]),this.columnasNo=["nombreCompleto"],this.dataSource.data=this.alumnos=t.ultimosActualizados,this.dataSourceNo.data=this.ultimosNoActualizados=t.ultimosNoActualizados}set setSort(e){this.dataSource.sort=e}set setPaginator(e){this.dataSource.paginator=e}set setSortNo(e){this.dataSourceNo.sort=e}set setPaginatorNo(e){this.dataSourceNo.paginator=e}ngOnInit(){}filtroRapido(e){this.dataSource.filter=e.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}filtroRapidoNo(e){this.dataSourceNo.filter=e.trim().toLowerCase(),this.dataSourceNo.paginator&&this.dataSourceNo.paginator.firstPage()}onNoClick(){this.dialogRef.close()}}return e.\u0275fac=function(t){return new(t||e)(f.Qb(m.g),f.Qb(m.a))},e.\u0275cmp=f.Kb({type:e,selectors:[["app-resultado-ciclo-tabla"]],viewQuery:function(e,t){var n;1&e&&(f.Tc(C,!0),f.Tc(S,!0),f.Tc(E,!0),f.Tc(A,!0)),2&e&&(f.zc(n=f.fc())&&(t.setSort=n.first),f.zc(n=f.fc())&&(t.setPaginator=n.first),f.zc(n=f.fc())&&(t.setSortNo=n.first),f.zc(n=f.fc())&&(t.setPaginatorNo=n.first))},decls:49,vars:16,consts:[["mat-dialog-title",""],["mat-dialog-content","","fxLayout","row wrap","fxLayoutAlign","space-between start",1,"w-100-p"],["fxLayout","column","fxFlex.xs","100","fxFlex.gt-xs","45",1,"w-100-p",2,"padding","12px"],[2,"margin-bottom","0"],["fxLayoutAlign","center center","fxLayout","row",1,"mt-20","p-0"],["appearance","outline","color","accent","fxFlex","100"],["matInput","","users","",3,"disabled","keyup"],["matSuffix",""],["mat-table","","matSort","",1,"borde-tabla","mat-elevation-z4","w-100-p",3,"dataSource"],["sort","matSort"],["matColumnDef","nombreCompleto"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"ngClass",4,"matRowDef","matRowDefColumns"],[4,"ngIf"],[1,"border-paginador","paginator","mat-elevation-z2","w-100-p",3,"pageSize","pageSizeOptions"],["paginator",""],["matInput","",3,"disabled","keyup"],["sortNo","matSort"],["paginatorNo",""],["mat-dialog-actions","","fxLayout","row","fxLayoutAlign","center start"],["mat-raised-button","","color","accent",3,"click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row",""],["mat-row","",3,"ngClass"]],template:function(e,t){1&e&&(f.Wb(0,"h1",0),f.Oc(1,"Resultados de la actualizaci\xf3n"),f.Vb(),f.Wb(2,"div",1),f.Wb(3,"div",2),f.Wb(4,"h2",3),f.Oc(5,"Alumnos actualizados al nuevo ciclo"),f.Vb(),f.Rb(6,"p"),f.Wb(7,"div",4),f.Wb(8,"mat-form-field",5),f.Wb(9,"mat-label"),f.Oc(10,"B\xfasqueda R\xe1pida"),f.Vb(),f.Wb(11,"input",6),f.ec("keyup",(function(e){return t.filtroRapido(e.target.value)})),f.Vb(),f.Wb(12,"mat-icon",7),f.Oc(13,"search"),f.Vb(),f.Vb(),f.Vb(),f.Wb(14,"table",8,9),f.Ub(16,10),f.Mc(17,T,2,0,"th",11),f.Mc(18,M,2,1,"td",12),f.Tb(),f.Mc(19,L,1,0,"tr",13),f.Mc(20,R,1,3,"tr",14),f.Vb(),f.Mc(21,V,1,0,"app-empty-data",15),f.Rb(22,"mat-paginator",16,17),f.Vb(),f.Wb(24,"div",2),f.Wb(25,"h2",3),f.Oc(26,"Alumnos que ya estaban actualizados"),f.Vb(),f.Wb(27,"p"),f.Oc(28,"No se realizaron modificaciones"),f.Vb(),f.Wb(29,"div",4),f.Wb(30,"mat-form-field",5),f.Wb(31,"mat-label"),f.Oc(32,"B\xfasqueda R\xe1pida"),f.Vb(),f.Wb(33,"input",18),f.ec("keyup",(function(e){return t.filtroRapidoNo(e.target.value)})),f.Vb(),f.Wb(34,"mat-icon",7),f.Oc(35,"search"),f.Vb(),f.Vb(),f.Vb(),f.Wb(36,"table",8,19),f.Ub(38,10),f.Mc(39,I,2,0,"th",11),f.Mc(40,P,2,1,"td",12),f.Tb(),f.Mc(41,j,1,0,"tr",13),f.Mc(42,z,1,3,"tr",14),f.Vb(),f.Mc(43,F,1,0,"app-empty-data",15),f.Rb(44,"mat-paginator",16,20),f.Vb(),f.Vb(),f.Wb(46,"div",21),f.Wb(47,"button",22),f.ec("click",(function(){return t.onNoClick()})),f.Oc(48,"ACEPTAR"),f.Vb(),f.Vb()),2&e&&(f.Db(11),f.pc("disabled",0==t.dataSource.data.length),f.Db(3),f.pc("dataSource",t.dataSource),f.Db(5),f.pc("matHeaderRowDef",t.columnas),f.Db(1),f.pc("matRowDefColumns",t.columnas),f.Db(1),f.pc("ngIf",!t.alumnos||t.alumnos.length<1),f.Db(1),f.pc("pageSize",5)("pageSizeOptions",f.qc(14,B)),f.Db(11),f.pc("disabled",0==t.dataSourceNo.data.length),f.Db(3),f.pc("dataSource",t.dataSourceNo),f.Db(5),f.pc("matHeaderRowDef",t.columnasNo),f.Db(1),f.pc("matRowDefColumns",t.columnasNo),f.Db(1),f.pc("ngIf",!t.ultimosNoActualizados||t.ultimosNoActualizados.length<1),f.Db(1),f.pc("pageSize",5)("pageSizeOptions",f.qc(15,B)))},directives:[m.h,m.e,b.d,b.c,b.b,g.b,g.f,v.b,w.a,g.g,h.j,y.a,h.c,h.e,h.b,h.g,h.i,a.t,D.a,m.c,x.a,h.d,y.b,h.a,h.f,h.h,a.q,O.a,k.a],styles:[""],data:{animation:[l.a]}}),e})();var H=n("sVT9"),X=n("jUic"),Y=n("3Pt+"),$=n("2+6u"),_=n("j14s"),Q=n("kEI4"),q=n("HELM");const U=["sort"],K=["paginator"];function G(e,t){1&e&&(f.Wb(0,"mat-error"),f.Oc(1," Este campo es requerido. "),f.Vb())}function J(e,t){if(1&e&&(f.Wb(0,"mat-form-field",31),f.Wb(1,"mat-label",4),f.Oc(2,"Ciclo Anterior"),f.Vb(),f.Rb(3,"input",32,33),f.Vb()),2&e){const e=f.ic();f.Db(3),f.pc("value",e.form.controls.cicloLectivo.value-1)}}function Z(e,t){1&e&&(f.Wb(0,"mat-error"),f.Oc(1," Este campo es requerido. "),f.Vb())}function ee(e,t){1&e&&(f.Wb(0,"mat-error"),f.Oc(1,"Seleccione al menos una divisi\xf3n"),f.Vb())}function te(e,t){if(1&e&&(f.Wb(0,"mat-list-option",34),f.Wb(1,"span"),f.Oc(2),f.Vb(),f.Vb()),2&e){const e=t.$implicit;f.pc("value",e),f.Db(2),f.Qc(" DIVISI\xd3N ",e," ")}}function ne(e,t){1&e&&f.Rb(0,"mat-progress-bar",35)}const ae=function(){return{delay:"50ms",scale:"0.2"}},oe=function(e){return{value:"*",params:e}};function ie(e,t){if(1&e){const e=f.Xb();f.Wb(0,"div",36),f.Wb(1,"mat-form-field",37),f.Wb(2,"mat-label"),f.Oc(3,"B\xfasqueda R\xe1pida"),f.Vb(),f.Wb(4,"input",38),f.ec("keyup",(function(t){return f.Ec(e),f.ic().filtroRapido(t.target.value)})),f.Vb(),f.Wb(5,"mat-icon",39),f.Oc(6,"search"),f.Vb(),f.Vb(),f.Vb()}if(2&e){const e=f.ic();f.pc("@animate",f.rc(3,oe,f.qc(2,ae))),f.Db(4),f.pc("disabled",0==e.dataSource.data.length)}}function re(e,t){1&e&&(f.Wb(0,"th",40),f.Oc(1,"Nombre y Apellido"),f.Vb())}function ce(e,t){if(1&e&&(f.Wb(0,"td",41),f.Oc(1),f.Vb()),2&e){const e=t.$implicit;f.Db(1),f.Pc(e.nombreCompleto)}}function le(e,t){1&e&&f.Rb(0,"tr",42)}const se=function(e){return{row_deshabilitado:e}};function ue(e,t){1&e&&f.Rb(0,"tr",43),2&e&&f.pc("ngClass",f.rc(1,se,!t.$implicit.activo))}function de(e,t){1&e&&f.Rb(0,"app-empty-data")}const pe=function(){return[5,10,25,100]};let he=(()=>{class e{constructor(e){this._fb=e,this.cursos=[1,2,3,4,5,6],this.divisiones=[1,2,3,4,5,6,7,8,9],this.anios=[],this.dataSource=new h.k([]),this.columnas=["nombreCompleto"],this.retBuscarAlumnos=new f.n,this.retActualizarCiclo=new f.n,this.retLimpiarAlumnos=new f.n}set setSort(e){this.dataSource.sort=e}set setPaginator(e){this.dataSource.paginator=e}ngOnChanges(e){e.alumnos&&e.alumnos.currentValue&&(this.dataSource.data=this.alumnos)}filtroRapido(e){this.dataSource.filter=e.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}ngOnInit(){const e=u().year();this.form=this._fb.group({cicloLectivo:[e,Y.u.required],curso:[null,[Y.u.required]],divisiones:[[]]}),this.form.valueChanges.subscribe(e=>{e.divisiones&&(e.divisiones.length<1?this.retLimpiarAlumnos.emit(!0):this.buscarAlumnos(e.divisiones))})}buscarAlumnos(e){if(this.form.valid){const{curso:t,cicloLectivo:n}=this.form.value;this.retBuscarAlumnos.emit({curso:t,divisiones:e,cicloLectivo:n})}else p.a.fire({title:"Campos incompletos",text:"Seleccione el Curso para poder visualizar los alumnos",icon:"error"})}actualizarCiclo(){if(this.form.valid){const{curso:e,cicloLectivo:t,divisiones:n}=this.form.value;console.log("cicloLectivo, ",t),this.retActualizarCiclo.emit({cicloLectivo:t,curso:e,divisiones:n})}else p.a.fire({title:"Campos incompletos",text:"Seleccione el Ciclo Lectivo y el Curso para poder visualizar los alumnos",icon:"error"})}}return e.\u0275fac=function(t){return new(t||e)(f.Qb(Y.c))},e.\u0275cmp=f.Kb({type:e,selectors:[["app-actualizar-alumnos-ciclo"]],viewQuery:function(e,t){var n;1&e&&(f.Tc(U,!0),f.Tc(K,!0)),2&e&&(f.zc(n=f.fc())&&(t.setSort=n.first),f.zc(n=f.fc())&&(t.setPaginator=n.first))},inputs:{cargando:"cargando",alumnos:"alumnos"},outputs:{retBuscarAlumnos:"retBuscarAlumnos",retActualizarCiclo:"retActualizarCiclo",retLimpiarAlumnos:"retLimpiarAlumnos"},features:[f.Bb],decls:49,vars:21,consts:[["fxLayout","column",1,"mat-card","mat-elevation-z4","p-24"],["fxLayout.xs","column","fxLayout.gt-xs","row","fxLayoutAlign.gt-xs","space-between start"],["fxLayout","column","fxFlex.gt-xs","50","fxFlex.xs","100",3,"formGroup"],["appearance","outline"],[1,"lbl"],["matInput","","readonly","","formControlName","cicloLectivo",1,"actual"],[4,"ngIf"],["appearance","outline","color","accent","class","anterior",4,"ngIf"],["formControlName","curso"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],["formControlName","divisiones","fxFlex","50","fxLayout.xs","column","fxLayout.gt-xs","row wrap","fxLayoutAlign.gt-xs","space-between center",1,"mat-card","mat-elevation-z2","border-card"],["fxFlex.xs","100","fxFlex.gt-xs","45",3,"value",4,"ngFor","ngForOf"],["fxLayout","column","fxFlex.xs","100","fxFlex.gt-xs","45",1,"w-100-p",2,"border","1px dashed","padding","12px"],["mode","indeterminate",4,"ngIf"],["class","mt-20 p-0","fxLayoutAlign","center center","fxLayout","row",4,"ngIf"],["mat-table","","matSort","",1,"borde-tabla","mat-elevation-z4","w-100-p",3,"dataSource"],["sort","matSort"],["matColumnDef","nombreCompleto"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"ngClass",4,"matRowDef","matRowDefColumns"],[1,"border-paginador","paginator","mat-elevation-z2","w-100-p",3,"pageSize","pageSizeOptions"],["paginator",""],["fxLayout","row","fxLayoutAlign","center start",1,"mt-24"],["mat-raised-button","","color","accent",3,"disabled","click"],["appearance","outline","color","accent",1,"anterior"],["matInput","","readonly","",1,"anterior",3,"value"],["ca",""],["fxFlex.xs","100","fxFlex.gt-xs","45",3,"value"],["mode","indeterminate"],["fxLayoutAlign","center center","fxLayout","row",1,"mt-20","p-0"],["appearance","outline","color","accent","fxFlex.xs","100","fxFlex.gt-xs","45"],["matInput","","users","",3,"disabled","keyup"],["matSuffix",""],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row",""],["mat-row","",3,"ngClass"]],template:function(e,t){1&e&&(f.Wb(0,"div",0),f.Wb(1,"h2"),f.Oc(2,"Actualizar los alumnos al nuevo ciclo escolar"),f.Vb(),f.Wb(3,"div",1),f.Wb(4,"form",2),f.Wb(5,"mat-form-field",3),f.Wb(6,"mat-label",4),f.Oc(7,"Ciclo Lectivo Actual"),f.Vb(),f.Rb(8,"input",5),f.Mc(9,G,2,0,"mat-error",6),f.Vb(),f.Mc(10,J,5,1,"mat-form-field",7),f.Wb(11,"mat-form-field",3),f.Wb(12,"mat-label",4),f.Oc(13,"Curso"),f.Vb(),f.Wb(14,"mat-select",8),f.Wb(15,"mat-option",9),f.Oc(16,"CURSO 1"),f.Vb(),f.Wb(17,"mat-option",10),f.Oc(18,"CURSO 2"),f.Vb(),f.Wb(19,"mat-option",11),f.Oc(20,"CURSO 3"),f.Vb(),f.Wb(21,"mat-option",12),f.Oc(22,"CURSO 4"),f.Vb(),f.Wb(23,"mat-option",13),f.Oc(24,"CURSO 5"),f.Vb(),f.Wb(25,"mat-option",14),f.Oc(26,"CURSO 6"),f.Vb(),f.Vb(),f.Mc(27,Z,2,0,"mat-error",6),f.Vb(),f.Mc(28,ee,2,0,"mat-error",6),f.Wb(29,"mat-selection-list",15),f.Mc(30,te,3,2,"mat-list-option",16),f.Vb(),f.Vb(),f.Wb(31,"div",17),f.Mc(32,ne,1,0,"mat-progress-bar",18),f.Wb(33,"h3"),f.Oc(34),f.Vb(),f.Mc(35,ie,7,5,"div",19),f.Wb(36,"table",20,21),f.Ub(38,22),f.Mc(39,re,2,0,"th",23),f.Mc(40,ce,2,1,"td",24),f.Tb(),f.Mc(41,le,1,0,"tr",25),f.Mc(42,ue,1,3,"tr",26),f.Vb(),f.Mc(43,de,1,0,"app-empty-data",6),f.Rb(44,"mat-paginator",27,28),f.Vb(),f.Vb(),f.Wb(46,"div",29),f.Wb(47,"button",30),f.ec("click",(function(){return t.actualizarCiclo()})),f.Oc(48," ACTUALIZAR CICLO LECTIVO "),f.Vb(),f.Vb(),f.Vb()),2&e&&(f.Db(4),f.pc("@animate",f.rc(18,oe,f.qc(17,ae)))("formGroup",t.form),f.Db(5),f.pc("ngIf",t.form.controls.cicloLectivo.hasError("required")),f.Db(1),f.pc("ngIf",t.form.controls.cicloLectivo.value),f.Db(17),f.pc("ngIf",t.form.controls.curso.hasError("required")),f.Db(1),f.pc("ngIf",t.form.controls.divisiones.value.length<1),f.Db(2),f.pc("ngForOf",t.divisiones),f.Db(2),f.pc("ngIf",t.cargando),f.Db(2),f.Qc("Visualizar los alumnos ",t.form.controls.cicloLectivo.value?"del ciclo "+(t.form.controls.cicloLectivo.value-1):"",""),f.Db(1),f.pc("ngIf",t.alumnos&&t.alumnos.length>0),f.Db(1),f.pc("dataSource",t.dataSource),f.Db(5),f.pc("matHeaderRowDef",t.columnas),f.Db(1),f.pc("matRowDefColumns",t.columnas),f.Db(1),f.pc("ngIf",!t.alumnos||t.alumnos.length<1),f.Db(1),f.pc("pageSize",5)("pageSizeOptions",f.qc(20,pe)),f.Db(3),f.pc("disabled",t.form.invalid||t.form.controls.divisiones.value.length<1))},directives:[b.d,b.c,Y.v,Y.o,b.b,Y.g,g.b,g.f,v.b,Y.b,Y.n,Y.f,a.t,$.a,_.p,Q.f,a.s,h.j,y.a,h.c,h.e,h.b,h.g,h.i,D.a,x.a,g.a,Q.d,q.a,w.a,g.g,h.d,y.b,h.a,h.f,h.h,a.q,O.a,k.a],styles:[".actual[_ngcontent-%COMP%] > .mat-form-field-appearance-outline[_ngcontent-%COMP%]   .mat-form-field-outline[_ngcontent-%COMP%], .actual[_ngcontent-%COMP%] > input.mat-input-element[_ngcontent-%COMP%]{color:green!important}.anterior[_ngcontent-%COMP%] > .mat-form-field-appearance-outline[_ngcontent-%COMP%]   .mat-form-field-outline[_ngcontent-%COMP%], .anterior[_ngcontent-%COMP%] > input.mat-input-element[_ngcontent-%COMP%]{color:red!important}"],data:{animation:[l.a]}}),e})();var me=n("G/Ji");function fe(e,t){1&e&&f.Rb(0,"mat-spinner",9)}function be(e,t){if(1&e){const e=f.Xb();f.Wb(0,"button",10),f.ec("click",(function(){return f.Ec(e),f.ic().abrirActualizados()})),f.Oc(1," Mostrar \xfaltimos actualizados "),f.Vb()}}const ge=function(){return{x:"50px"}},ve=function(e){return{value:"*",params:e}};let we=(()=>{let e=class{constructor(e,t,n){this._dialog=e,this._cicloLectivoService=t,this._alumnoService=n,this.titulo="Actualizar Ciclo Lectivo",this.cargando=!1}ngOnInit(){this._cicloLectivoService.obtenerCiclosLectivos().pipe(Object(s.b)(this)).subscribe(e=>{this.ciclosLectivos=e},e=>{console.log("[ERROR]",e)}),this._cicloLectivoService.cicloLectivo$.pipe(Object(s.b)(this)).subscribe(e=>{this.cicloActual=e||u().year()})}setLimpiarAlumnos(e){this.alumnos=[]}setBuscarAlumnos({curso:e,divisiones:t,cicloLectivo:n}){console.log("cicloLectivo",n);const a=this.ciclosLectivos.findIndex(e=>e.anio===n-1);-1!==a?(this.cargando=!0,this._alumnoService.obtenerAlumnosPorCursoDivisionesCiclo(e,t,this.ciclosLectivos[a]).pipe(Object(s.b)(this)).subscribe(e=>{this.alumnos=[...e],this.cargando=!1},e=>{console.log("[ERROR]",e),this.cargando=!1})):p.a.fire({title:"Ciclo lectivo anterior inv\xe1lido",text:"El ciclo lectivo que desea agregar no se encuentra habilitado",icon:"error"})}setActualizarCiclo({cicloLectivo:e,curso:t,divisiones:n}){console.log("cicloLectivo.anio",e);const a=this.ciclosLectivos.findIndex(t=>t.anio===e-1);if(-1===a)return void p.a.fire({title:"Ciclo lectivo anterior inv\xe1lido",text:"El ciclo lectivo que desea agregar no se encuentra habilitado",icon:"error"});const o=this.ciclosLectivos.findIndex(t=>t.anio===e);-1!==o?(this.cargando=!0,this._alumnoService.actualizarAlNuevoCiclo(t,n,this.ciclosLectivos[a],this.ciclosLectivos[o]).pipe(Object(s.b)(this)).subscribe(e=>{console.log("datos dinales",e),this.ultimosActualizados=e.alumnosActualizados,this.ultimosNoActualizados=e.alumnosNoActualizados,this.abrirActualizados(),this.cargando=!1},e=>{console.log("[ERROR]",e),this.cargando=!1})):p.a.fire({title:"Ciclo lectivo inv\xe1lido",text:"El ciclo lectivo que desea agregar no se encuentra habilitado",icon:"error"})}abrirActualizados(){this._dialog.open(N,{width:"70%",data:{ultimosActualizados:this.ultimosActualizados,ultimosNoActualizados:this.ultimosNoActualizados}})}};return e.\u0275fac=function(t){return new(t||e)(f.Qb(m.b),f.Qb(H.a),f.Qb(X.a))},e.\u0275cmp=f.Kb({type:e,selectors:[["app-actualizar-ciclo-lectivo"]],decls:10,vars:9,consts:[["fxLayout","column","fxLayoutGap","20px",1,"w-100-p","p-24"],["fxLayout","column",1,"mat-card","mat-elevation-z4","p-24"],["fxLayout","","fxLayoutAlign","start center",1,"w-100-p","mb-12",2,"border-bottom","2px solid #80808057"],[1,"px-12"],["matSuffix","","class","ml-10","diameter","20",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between baseline"],["fxLayout","","fxLayoutAlign","end center","fxFlex","25"],["mat-raised-button","","color","accent",3,"click",4,"ngIf"],[3,"cargando","alumnos","retLimpiarAlumnos","retBuscarAlumnos","retActualizarCiclo"],["matSuffix","","diameter","20",1,"ml-10"],["mat-raised-button","","color","accent",3,"click"]],template:function(e,t){1&e&&(f.Wb(0,"div",0),f.Wb(1,"div",1),f.Wb(2,"div",2),f.Wb(3,"h1",3),f.Oc(4),f.Vb(),f.Mc(5,fe,1,0,"mat-spinner",4),f.Vb(),f.Wb(6,"div",5),f.Rb(7,"div",6),f.Vb(),f.Vb(),f.Mc(8,be,2,0,"button",7),f.Wb(9,"app-actualizar-alumnos-ciclo",8),f.ec("retLimpiarAlumnos",(function(e){return t.setLimpiarAlumnos(e)}))("retBuscarAlumnos",(function(e){return t.setBuscarAlumnos(e)}))("retActualizarCiclo",(function(e){return t.setActualizarCiclo(e)})),f.Vb(),f.Vb()),2&e&&(f.Db(3),f.pc("@animate",f.rc(7,ve,f.qc(6,ge))),f.Db(1),f.Pc(t.titulo),f.Db(1),f.pc("ngIf",t.cargando),f.Db(3),f.pc("ngIf",t.ultimosActualizados),f.Db(1),f.pc("cargando",t.cargando)("alumnos",t.alumnos))},directives:[b.d,b.e,b.c,a.t,b.b,he,me.b,g.g,x.a],encapsulation:2,data:{animation:[l.a]}}),e=Object(c.a)([Object(s.a)()],e),e})();var ye=n("LRne"),De=n("JIr8"),xe=n("AytR"),Oe=n("tk/3");let ke=(()=>{class e{constructor(e){this.http=e,this.url=xe.a.apiURI}obtenerCalendarioPorCiclo(e){return this.http.get(this.url+"calendario/por-ciclo/"+e)}obtenerCalendario(e){return this.http.get(this.url+"calendario")}crearCalendario(e,t){return this.http.post(this.url+"calendario",{fechaInicio:e,fechaFinal:t})}}return e.\u0275fac=function(t){return new(t||e)(f.ac(Oe.a))},e.\u0275prov=f.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Ce=n("Jo7X"),Se=n("sRcY"),Ee=function(){return(Ee=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Ae=/\s+/,Te=new(function(){function e(){}return e.prototype.getAllStyles=function(e){return window.getComputedStyle(e)},e.prototype.getStyle=function(e,t){return this.getAllStyles(e)[t]},e.prototype.isStaticPositioned=function(e){return"static"===(this.getStyle(e,"position")||"static")},e.prototype.offsetParent=function(e){for(var t=e.offsetParent||document.documentElement;t&&t!==document.documentElement&&this.isStaticPositioned(t);)t=t.offsetParent;return t||document.documentElement},e.prototype.position=function(e,t){var n;void 0===t&&(t=!0);var a={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(e,"position"))n={top:(n=e.getBoundingClientRect()).top,bottom:n.bottom,left:n.left,right:n.right,height:n.height,width:n.width};else{var o=this.offsetParent(e);n=this.offset(e,!1),o!==document.documentElement&&(a=this.offset(o,!1)),a.top+=o.clientTop,a.left+=o.clientLeft}return n.top-=a.top,n.bottom-=a.top,n.left-=a.left,n.right-=a.left,t&&(n.top=Math.round(n.top),n.bottom=Math.round(n.bottom),n.left=Math.round(n.left),n.right=Math.round(n.right)),n},e.prototype.offset=function(e,t){void 0===t&&(t=!0);var n=e.getBoundingClientRect(),a=window.pageYOffset-document.documentElement.clientTop,o=window.pageXOffset-document.documentElement.clientLeft,i={height:n.height||e.offsetHeight,width:n.width||e.offsetWidth,top:n.top+a,bottom:n.bottom+a,left:n.left+o,right:n.right+o};return t&&(i.height=Math.round(i.height),i.width=Math.round(i.width),i.top=Math.round(i.top),i.bottom=Math.round(i.bottom),i.left=Math.round(i.left),i.right=Math.round(i.right)),i},e.prototype.positionElements=function(e,t,n,a){var o=n.split("-"),i=o[0],r=void 0===i?"top":i,c=o[1],l=void 0===c?"center":c,s=a?this.offset(e,!1):this.position(e,!1),u=this.getAllStyles(t),d=parseFloat(u.marginTop),p=parseFloat(u.marginBottom),h=parseFloat(u.marginLeft),m=parseFloat(u.marginRight),f=0,b=0;switch(r){case"top":f=s.top-(t.offsetHeight+d+p);break;case"bottom":f=s.top+s.height;break;case"left":b=s.left-(t.offsetWidth+h+m);break;case"right":b=s.left+s.width}switch(l){case"top":f=s.top;break;case"bottom":f=s.top+s.height-t.offsetHeight;break;case"left":b=s.left;break;case"right":b=s.left+s.width-t.offsetWidth;break;case"center":"top"===r||"bottom"===r?b=s.left+s.width/2-t.offsetWidth/2:f=s.top+s.height/2-t.offsetHeight/2}t.style.transform="translate("+Math.round(b)+"px, "+Math.round(f)+"px)";var g=t.getBoundingClientRect(),v=document.documentElement,w=window.innerHeight||v.clientHeight,y=window.innerWidth||v.clientWidth;return g.left>=0&&g.top>=0&&g.right<=y&&g.bottom<=w},e}()),Me=n("XNiG"),Le=n("PqYM"),We=n("HDdC");n("2Vo4"),n("D0XW"),n("Y7HM");var Re=n("1G5W"),Ve=(n("eIep"),n("JX91")),Ie=n("lJxs"),Pe=function(){return(Pe=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},je=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var a=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],r=0,c=i.length;r<c;r++,o++)a[o]=i[r];return a},ze=function(e){return e[e.SUNDAY=0]="SUNDAY",e[e.MONDAY=1]="MONDAY",e[e.TUESDAY=2]="TUESDAY",e[e.WEDNESDAY=3]="WEDNESDAY",e[e.THURSDAY=4]="THURSDAY",e[e.FRIDAY=5]="FRIDAY",e[e.SATURDAY=6]="SATURDAY",e}({}),Fe=[ze.SUNDAY,ze.SATURDAY];function Be(e,t){var n=t.startDate,a=t.excluded,o=t.precision;if(a.length<1)return 0;for(var i=e.getDay,r=e.addDays,c=(0,e.addSeconds)(n,t.seconds-1),l=i(n),s=i(c),u=0,d=n,p=function(){var t=i(d);a.some((function(e){return e===t}))&&(u+=function(e,t){var n=t.day,a=t.dayEnd,o=t.startDate,i=t.endDate,r=e.differenceInSeconds,c=e.startOfDay;if("minutes"===t.precision){if(n===t.dayStart)return r((0,e.endOfDay)(o),o)+1;if(n===a)return r(i,c(i))+1}return 86400}(e,{dayStart:l,dayEnd:s,day:t,precision:o,startDate:n,endDate:c})),d=r(d,1)};d<c;)p();return u}function Ne(e,t){var n=t.periodStart,a=t.periodEnd;return t.events.filter((function(t){return function(e,t){var n=t.event,a=t.periodStart,o=t.periodEnd,i=e.isSameSecond,r=n.start,c=n.end||n.start;return r>a&&r<o||c>a&&c<o||r<a&&c>o||!(!i(r,a)&&!i(r,o))||!(!i(c,a)&&!i(c,o))}(e,{event:t,periodStart:n,periodEnd:a})}))}function He(e,t){var n=t.date,a=t.weekendDays,o=void 0===a?Fe:a,i=e.isSameDay,r=e.getDay,c=(0,e.startOfDay)(new Date),l=r(n);return{date:n,day:l,isPast:n<c,isToday:i(n,c),isFuture:n>c,isWeekend:o.indexOf(l)>-1}}function Xe(e,t){for(var n=t.excluded,a=void 0===n?[]:n,o=t.weekendDays,i=t.viewStart,r=void 0===i?e.startOfWeek(t.viewDate,{weekStartsOn:t.weekStartsOn}):i,c=t.viewEnd,l=void 0===c?e.addDays(r,7):c,s=e.addDays,u=e.getDay,d=[],p=r;p<l;)a.some((function(e){return u(p)===e}))||d.push(He(e,{date:p,weekendDays:o})),p=s(p,1);return d}function Ye(e,t){var n=t.events,a=void 0===n?[]:n,o=t.excluded,i=void 0===o?[]:o,r=t.precision,c=void 0===r?"days":r,l=t.absolutePositionedEvents,s=void 0!==l&&l,u=t.viewStart,d=t.viewEnd;u=e.startOfDay(u),d=e.endOfDay(d);var p=e.differenceInSeconds,h=e.differenceInDays,m=function(e,t){for(var n=t.date2,a=t.excluded,o=t.date1,i=0;o<n;)-1===a.indexOf(e.getDay(o))&&i++,o=e.addDays(o,1);return i}(e,{date1:u,date2:d,excluded:i}),f=h(d,u)+1,b=a.filter((function(e){return e.allDay})).map((function(t){var n=function(e,t){var n=t.event,a=t.startOfWeek,o=t.excluded,i=t.precision,r=e.differenceInDays,c=e.startOfDay,l=e.differenceInSeconds;if(n.start<a)return 0;var s=0;switch(i){case"days":s=86400*r(c(n.start),a);break;case"minutes":s=l(n.start,a)}return s-=Be(e,{startDate:a,seconds:s,excluded:o,precision:i}),Math.abs(s/86400)}(e,{event:t,startOfWeek:u,excluded:i,precision:c});return{event:t,offset:n,span:function(e,t){var n=t.event,a=t.offset,o=t.excluded,i=t.precision,r=t.totalDaysInView,c=e.differenceInSeconds,l=e.addDays,s=e.endOfDay,u=e.differenceInDays,d=86400,p=(0,e.max)([n.start,t.startOfWeekDate]);if(n.end)switch(i){case"minutes":d=c(n.end,p);break;default:d=86400*u(l(s(n.end),1),p)}var h=86400*a,m=86400*r;return h+d>m&&(d=m-h),(d-=Be(e,{startDate:p,seconds:d,excluded:o,precision:i}))/86400}(e,{event:t,offset:n,startOfWeekDate:u,excluded:i,precision:c,totalDaysInView:f})}})).filter((function(e){return e.offset<m})).filter((function(e){return e.span>0})).map((function(e){return{event:e.event,offset:e.offset,span:e.span,startsBeforeWeek:e.event.start<u,endsAfterWeek:(e.event.end||e.event.start)>d}})).sort((function(e,t){var n=p(e.event.start,t.event.start);return 0===n?p(t.event.end||t.event.start,e.event.end||e.event.start):n})),g=[],v=[];return b.forEach((function(e,t){if(-1===v.indexOf(e)){v.push(e);var n=e.span+e.offset,a=b.slice(t+1).filter((function(e){if(e.offset>=n&&n+e.span<=f&&-1===v.indexOf(e)){var t=e.offset-n;return s||(e.offset=t),n+=e.span+t,v.push(e),!0}})),o=je([e],a),i=o.filter((function(e){return e.event.id})).map((function(e){return e.event.id})).join("-");g.push(Pe({row:o},i?{id:i}:{}))}})),g}function $e(e,t){var n=t.events,a=t.viewDate,o=t.hourSegments,i=t.hourDuration,r=t.dayStart,c=t.dayEnd,l=t.weekStartsOn,s=t.excluded,u=t.weekendDays,d=t.segmentHeight,p=t.viewStart,h=t.viewEnd,m=t.minimumEventHeight,f=function(e,t){var n=t.viewDate,a=t.hourSegments,o=t.hourDuration,i=t.dayStart,r=t.dayEnd,c=e.setMinutes,l=e.setHours,s=e.startOfDay,u=e.startOfMinute,d=e.endOfDay,p=e.addMinutes,h=e.addDays,m=[],f=c(l(s(n),Qe(i.hour)),qe(i.minute)),b=c(l(u(d(n)),Qe(r.hour)),qe(r.minute)),g=(o||60)/a,v=s(n),w=d(n),y=function(e){return e};v.getTimezoneOffset()!==w.getTimezoneOffset()&&(v=h(v,1),f=h(f,1),b=h(b,1),y=function(e){return h(e,-1)});for(var D=o?1440/o:60,x=0;x<D;x++){for(var O=[],k=0;k<a;k++){var C=p(p(f,x*(o||60)),k*g);C>=f&&C<b&&O.push({date:y(C),displayDate:C,isStart:0===k})}O.length>0&&m.push({segments:O})}return m}(e,{viewDate:a,hourSegments:o,hourDuration:i,dayStart:r,dayEnd:c}),b=Xe(e,{viewDate:a,weekStartsOn:l,excluded:s,weekendDays:u,viewStart:p,viewEnd:h}),g=e.setHours,v=e.setMinutes,w=e.getHours,y=e.getMinutes;return b.map((function(t){var a=function(e,t){var n=t.events,a=t.viewDate,o=t.hourSegments,i=t.dayStart,r=t.dayEnd,c=t.eventWidth,l=t.segmentHeight,s=t.hourDuration,u=t.minimumEventHeight,d=e.setMinutes,p=e.setHours,h=e.startOfDay,m=e.startOfMinute,f=e.endOfDay,b=e.differenceInMinutes,g=d(p(h(a),Qe(i.hour)),qe(i.minute)),v=d(p(m(f(a)),Qe(r.hour)),qe(r.minute));v.setSeconds(59,999);var w=[],y=Ne(e,{events:n.filter((function(e){return!e.allDay})),periodStart:g,periodEnd:v}),D=y.sort((function(e,t){return e.start.valueOf()-t.start.valueOf()})).map((function(e){var t=e.start,n=e.end||t,a=t<g,i=n>v,r=o*l/(s||60),d=0;if(t>g){var p=t.getTimezoneOffset(),h=g.getTimezoneOffset()-p;d+=b(t,g)+h}d*=r;var m=a?g:t,f=i?v:n,y=m.getTimezoneOffset()-f.getTimezoneOffset(),D=b(f,m)+y;e.end?D*=r:D=l,u&&D<u&&(D=u);for(var x=_e(w,d,d+D),O=0;x.some((function(e){return e.left===O}));)O+=c;var k={event:e,height:D,width:c,top:d,left:O,startsBeforeDay:a,endsAfterDay:i};return w.push(k),k})),x=Math.max.apply(Math,D.map((function(e){return e.left+e.width})));return{events:D,width:x,allDayEvents:Ne(e,{events:n.filter((function(e){return e.allDay})),periodStart:h(g),periodEnd:f(v)}),period:{events:y,start:g,end:v}}}(e,{events:n,viewDate:t.date,hourSegments:o,dayStart:r,dayEnd:c,segmentHeight:d,eventWidth:1,hourDuration:i,minimumEventHeight:m}),l=f.map((function(e){var n=e.segments.map((function(e){var n=v(g(t.date,w(e.date)),y(e.date));return Pe(Pe({},e),{date:n})}));return Pe(Pe({},e),{segments:n})})),s=a.events.map((function(e){var t=100/function e(t,n){var a=Math.max.apply(Math,n.map((function(e){return e.left+1}))),o=t.filter((function(e){return e.left>=a})).filter((function(e){return _e(n,e.top,e.top+e.height).length>0}));return o.length>0?e(t,o):a}(a.events,_e(a.events,e.top,e.top+e.height));return Pe(Pe({},e),{left:e.left*t,width:t})}));return{hours:l,date:t.date,events:s.map((function(e){var t=_e(s.filter((function(t){return t.left>e.left})),e.top,e.top+e.height);return t.length>0?Pe(Pe({},e),{width:Math.min.apply(Math,t.map((function(e){return e.left})))-e.left}):e}))}}))}function _e(e,t,n){return e.filter((function(e){var a=e.top,o=e.top+e.height;return t<o&&o<n||t<a&&a<n||a<=t&&n<=o}))}function Qe(e){return Math.max(Math.min(23,e),0)}function qe(e){return Math.max(Math.min(59,e),0)}var Ue=function(e){return e.NotArray="Events must be an array",e.StartPropertyMissing="Event is missing the `start` property",e.StartPropertyNotDate="Event `start` property should be a javascript date object. Do `new Date(event.start)` to fix it.",e.EndPropertyNotDate="Event `end` property should be a javascript date object. Do `new Date(event.end)` to fix it.",e.EndsBeforeStart="Event `start` property occurs after the `end`",e}({}),Ke=n("jtHE"),Ge=n("VRyK"),Je=n("itXk"),Ze=n("xgIS");function et(e,t){var n,a;return a=t,"function"==typeof(e=void 0===(n=e)?void 0===a?n:a:n)?function(){for(var t=arguments,n=arguments.length,a=Array(n),o=0;o<n;o++)a[o]=t[o];return!!e.apply(this,a)}:e?function(){return!0}:function(){return!1}}var tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},nt=function(e){return null!=e&&"object"===(void 0===e?"undefined":tt(e))&&1===e.nodeType&&"object"===tt(e.style)&&"object"===tt(e.ownerDocument)};function at(e,t){if(t=lt(t,!0),!nt(t))return-1;for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}function ot(e,t){return-1!==at(e,t)}function it(e,t){for(var n=0;n<t.length;n++)ot(e,t[n])||e.push(t[n]);return t}function rt(e){for(var t=arguments,n=[],a=arguments.length-1;a-- >0;)n[a]=t[a+1];return it(e,n=n.map(lt))}function ct(e){for(var t=arguments,n=[],a=arguments.length-1;a-- >0;)n[a]=t[a+1];return n.map(lt).reduce((function(t,n){var a=at(e,n);return-1!==a?t.concat(e.splice(a,1)):t}),[])}function lt(e,t){if("string"==typeof e)try{return document.querySelector(e)}catch(n){throw n}if(!nt(e)&&!t)throw new TypeError(e+" is not a DOM element.");return e}function st(e){if(e===window)return function(){var e={top:{value:0,enumerable:!0},left:{value:0,enumerable:!0},right:{value:window.innerWidth,enumerable:!0},bottom:{value:window.innerHeight,enumerable:!0},width:{value:window.innerWidth,enumerable:!0},height:{value:window.innerHeight,enumerable:!0},x:{value:0,enumerable:!0},y:{value:0,enumerable:!0}};if(Object.create)return Object.create({},e);var t={};return Object.defineProperties(t,e),t}();try{var t=e.getBoundingClientRect();return void 0===t.x&&(t.x=t.left,t.y=t.top),t}catch(n){throw new TypeError("Can't call getBoundingClientRect on "+e)}}var ut,dt=void 0;"function"!=typeof Object.create?(ut=function(){},dt=function(e,t){if(e!==Object(e)&&null!==e)throw TypeError("Argument must be an object, or null");ut.prototype=e||{};var n=new ut;return ut.prototype=null,void 0!==t&&Object.defineProperties(n,t),null===e&&(n.__proto__=null),n}):dt=Object.create;var pt=dt,ht=["altKey","button","buttons","clientX","clientY","ctrlKey","metaKey","movementX","movementY","offsetX","offsetY","pageX","pageY","region","relatedTarget","screenX","screenY","shiftKey","which","x","y"];function mt(e,t){t=t||{};for(var n=pt(e),a=0;a<ht.length;a++)void 0!==t[ht[a]]&&(n[ht[a]]=t[ht[a]]);return n}function ft(e,t){console.log("data ",t),e.data=t||{},e.dispatched="mousemove"}var bt=["webkit","moz","ms","o"],gt=function(){if("undefined"==typeof window)return function(){};for(var e=0,t=bt.length;e<t&&!window.requestAnimationFrame;++e)window.requestAnimationFrame=window[bt[e]+"RequestAnimationFrame"];if(!window.requestAnimationFrame){var n=0;window.requestAnimationFrame=function(e){var t=(new Date).getTime(),a=Math.max(0,16-t-n),o=window.setTimeout((function(){return e(t+a)}),a);return n=t+a,o}}return window.requestAnimationFrame.bind(window)}(),vt=function(){if("undefined"==typeof window)return function(){};for(var e=0,t=bt.length;e<t&&!window.cancelAnimationFrame;++e)window.cancelAnimationFrame=window[bt[e]+"CancelAnimationFrame"]||window[bt[e]+"CancelRequestAnimationFrame"];return window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){window.clearTimeout(e)}),window.cancelAnimationFrame.bind(window)}();function wt(e,t){void 0===t&&(t={});var n=this,a=4,o=!1;if("object"!=typeof t.margin){var i=t.margin||-1;this.margin={left:i,right:i,top:i,bottom:i}}else this.margin=t.margin;this.scrollWhenOutside=t.scrollWhenOutside||!1;var r,c={},l=function(e,t){var n=et((t=t||{}).allowUpdate,!0);return function(t){if(t=t||window.event,e.target=t.target||t.srcElement||t.originalTarget,e.element=this,e.type=t.type,n(t)){if(t.targetTouches)e.x=t.targetTouches[0].clientX,e.y=t.targetTouches[0].clientY,e.pageX=t.targetTouches[0].pageX,e.pageY=t.targetTouches[0].pageY,e.screenX=t.targetTouches[0].screenX,e.screenY=t.targetTouches[0].screenY;else{if(null===t.pageX&&null!==t.clientX){var a=t.target&&t.target.ownerDocument||document,o=a.documentElement,i=a.body;e.pageX=t.clientX+(o&&o.scrollLeft||i&&i.scrollLeft||0)-(o&&o.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(o&&o.scrollTop||i&&i.scrollTop||0)-(o&&o.clientTop||i&&i.clientTop||0)}else e.pageX=t.pageX,e.pageY=t.pageY;e.x=t.clientX,e.y=t.clientY,e.screenX=t.screenX,e.screenY=t.screenY}e.clientX=e.x,e.clientY=e.y}}}(c),s=(r={screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1,button:0,buttons:1,relatedTarget:null,region:null},{destroy:function(){r=null},dispatch:MouseEvent?function(e,t,n){var a=new MouseEvent("mousemove",mt(r,t));return ft(a,n),e.dispatchEvent(a)}:"function"==typeof document.createEvent?function(e,t,n){var a=mt(r,t),o=document.createEvent("MouseEvents");return o.initMouseEvent("mousemove",!0,!0,window,0,a.screenX,a.screenY,a.clientX,a.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,a.button,a.relatedTarget),ft(o,n),e.dispatchEvent(o)}:"function"==typeof document.createEventObject?function(e,t,n){var a=document.createEventObject(),o=mt(r,t);for(var i in o)a[i]=o[i];return ft(a,n),e.dispatchEvent(a)}:void 0}),u=!1;window.addEventListener("mousemove",l,!1),window.addEventListener("touchmove",l,!1),isNaN(t.maxSpeed)||(a=t.maxSpeed),"object"!=typeof a&&(a={left:a,right:a,top:a,bottom:a}),this.autoScroll=et(t.autoScroll),this.syncMove=et(t.syncMove,!1),this.destroy=function(t){window.removeEventListener("mousemove",l,!1),window.removeEventListener("touchmove",l,!1),window.removeEventListener("mousedown",g,!1),window.removeEventListener("touchstart",g,!1),window.removeEventListener("mouseup",v,!1),window.removeEventListener("touchend",v,!1),window.removeEventListener("pointerup",v,!1),window.removeEventListener("mouseleave",y,!1),window.removeEventListener("mousemove",x,!1),window.removeEventListener("touchmove",x,!1),window.removeEventListener("scroll",b,!0),e=[],t&&w()},this.add=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return rt.apply(void 0,[e].concat(t)),this},this.remove=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return ct.apply(void 0,[e].concat(t))};var d,p,h=null;"[object Array]"!==Object.prototype.toString.call(e)&&(e=[e]),p=e,e=[],p.forEach((function(e){e===window?h=window:n.add(e)})),Object.defineProperties(this,{down:{get:function(){return u}},maxSpeed:{get:function(){return a}},point:{get:function(){return c}},scrolling:{get:function(){return o}}});var m,f=null;function b(t){for(var n=0;n<e.length;n++)if(e[n]===t.target){o=!0;break}o&&gt((function(){return o=!1}))}function g(){u=!0}function v(){u=!1,w()}function w(){vt(m),vt(d)}function y(){u=!1}function D(){for(var t=null,n=0;n<e.length;n++)yt(c,e[n])&&(t=e[n]);return t}function x(t){if(n.autoScroll()&&!t.dispatched){var a=t.target,o=document.body;f&&!yt(c,f)&&(n.scrollWhenOutside||(f=null)),a&&a.parentNode===o?a=D():(a=function(t){if(!t)return null;if(f===t)return t;if(ot(e,t))return t;for(;t=t.parentNode;)if(ot(e,t))return t;return null}(a))||(a=D()),a&&a!==f&&(f=a),h&&(vt(d),d=gt(O)),f&&(vt(m),m=gt(k))}}function O(){C(h),vt(d),d=gt(O)}function k(){f&&(C(f),vt(m),m=gt(k))}function C(e){var t,a,o=st(e);t=c.x<o.left+n.margin.left?Math.floor(Math.max(-1,(c.x-o.left)/n.margin.left-1)*n.maxSpeed.left):c.x>o.right-n.margin.right?Math.ceil(Math.min(1,(c.x-o.right)/n.margin.right+1)*n.maxSpeed.right):0,a=c.y<o.top+n.margin.top?Math.floor(Math.max(-1,(c.y-o.top)/n.margin.top-1)*n.maxSpeed.top):c.y>o.bottom-n.margin.bottom?Math.ceil(Math.min(1,(c.y-o.bottom)/n.margin.bottom+1)*n.maxSpeed.bottom):0,n.syncMove()&&s.dispatch(e,{pageX:c.pageX+t,pageY:c.pageY+a,clientX:c.x+t,clientY:c.y+a}),setTimeout((function(){a&&function(e,t){e===window?window.scrollTo(e.pageXOffset,e.pageYOffset+t):e.scrollTop+=t}(e,a),t&&function(e,t){e===window?window.scrollTo(e.pageXOffset+t,e.pageYOffset):e.scrollLeft+=t}(e,t)}))}window.addEventListener("mousedown",g,!1),window.addEventListener("touchstart",g,!1),window.addEventListener("mouseup",v,!1),window.addEventListener("touchend",v,!1),window.addEventListener("pointerup",v,!1),window.addEventListener("mousemove",x,!1),window.addEventListener("touchmove",x,!1),window.addEventListener("mouseleave",y,!1),window.addEventListener("scroll",b,!0)}function yt(e,t,n){return n?e.y>n.top&&e.y<n.bottom&&e.x>n.left&&e.x<n.right:function(e,t){var n=st(t);return e.y>n.top&&e.y<n.bottom&&e.x>n.left&&e.x<n.right}(e,t)}var Dt=n("pLZG"),xt=n("5+tZ"),Ot=n("w1tV"),kt=n("IzEk"),Ct=n("BFxc"),St=n("7o/Q");class Et{constructor(e,t){this.predicate=e,this.source=t}call(e,t){return t.subscribe(new At(e,this.predicate,this.source))}}class At extends St.a{constructor(e,t,n){super(e),this.predicate=t,this.source=n,this.count=0,this.index=0}_next(e){this.predicate?this._tryPredicate(e):this.count++}_tryPredicate(e){let t;try{t=this.predicate(e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t&&this.count++}_complete(){this.destination.next(this.count),this.destination.complete()}}var Tt=n("Zy1z"),Mt=n("/uUt");let Lt=(()=>{class e{constructor(){this.currentDrag=new Me.a}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=f.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e.ngInjectableDef=Object(f.S)({factory:function(){return new e},token:e,providedIn:"root"}),e})(),Wt=(()=>{class e{constructor(e){this.elementRef=e,this.activeLongPressDrag=!1,this.longPressConfig={duration:300,delta:30}}}return e.\u0275fac=function(t){return new(t||e)(f.Qb(f.l))},e.\u0275dir=f.Lb({type:e,selectors:[["","mwlDraggableScrollContainer",""]],inputs:{activeLongPressDrag:"activeLongPressDrag",longPressConfig:"longPressConfig"}}),e})();function Rt(e,t,n){n&&n.split(" ").forEach(n=>e.addClass(t.nativeElement,n))}function Vt(e,t,n){n&&n.split(" ").forEach(n=>e.removeClass(t.nativeElement,n))}let It=(()=>{class e{constructor(e,t,n,a,o,i,r){this.element=e,this.renderer=t,this.draggableHelper=n,this.zone=a,this.vcr=o,this.scrollContainer=i,this.document=r,this.dragAxis={x:!0,y:!0},this.dragSnapGrid={},this.ghostDragEnabled=!0,this.showOriginalElementWhileDragging=!1,this.dragCursor="",this.autoScroll={margin:20},this.dragPointerDown=new f.n,this.dragStart=new f.n,this.ghostElementCreated=new f.n,this.dragging=new f.n,this.dragEnd=new f.n,this.pointerDown$=new Me.a,this.pointerMove$=new Me.a,this.pointerUp$=new Me.a,this.eventListenerSubscriptions={},this.destroy$=new Me.a,this.timeLongPress={timerBegin:0,timerEnd:0}}ngOnInit(){this.checkEventListeners();const e=this.pointerDown$.pipe(Object(Dt.a)(()=>this.canDrag()),Object(xt.a)(e=>{e.event.stopPropagation&&!this.scrollContainer&&e.event.stopPropagation();const t=this.renderer.createElement("style");this.renderer.setAttribute(t,"type","text/css"),this.renderer.appendChild(t,this.renderer.createText("\n          body * {\n           -moz-user-select: none;\n           -ms-user-select: none;\n           -webkit-user-select: none;\n           user-select: none;\n          }\n        ")),requestAnimationFrame(()=>{this.document.head.appendChild(t)});const n=this.getScrollPosition(),a=new We.a(e=>this.renderer.listen(this.scrollContainer?this.scrollContainer.elementRef.nativeElement:"window","scroll",t=>e.next(t))).pipe(Object(Ve.a)(n),Object(Ie.a)(()=>this.getScrollPosition())),o=new Me.a,i=new Ke.a;this.zone.run(()=>{this.dragPointerDown.next({x:0,y:0})});const r=Object(Ge.a)(this.pointerUp$,this.pointerDown$,i,this.destroy$).pipe(Object(Ot.a)()),c=Object(Je.a)([this.pointerMove$,a]).pipe(Object(Ie.a)(([t,n])=>({currentDrag$:o,transformX:t.clientX-e.clientX,transformY:t.clientY-e.clientY,clientX:t.clientX,clientY:t.clientY,scrollLeft:n.left,scrollTop:n.top,target:t.event.target})),Object(Ie.a)(e=>(this.dragSnapGrid.x&&(e.transformX=Math.round(e.transformX/this.dragSnapGrid.x)*this.dragSnapGrid.x),this.dragSnapGrid.y&&(e.transformY=Math.round(e.transformY/this.dragSnapGrid.y)*this.dragSnapGrid.y),e)),Object(Ie.a)(e=>(this.dragAxis.x||(e.transformX=0),this.dragAxis.y||(e.transformY=0),e)),Object(Ie.a)(e=>Object.assign({},e,{x:e.transformX+(e.scrollLeft-n.left),y:e.transformY+(e.scrollTop-n.top)})),Object(Dt.a)(({x:e,y:t,transformX:n,transformY:a})=>!this.validateDrag||this.validateDrag({x:e,y:t,transform:{x:n,y:a}})),Object(Re.a)(r),Object(Ot.a)()),l=c.pipe(Object(kt.a)(1),Object(Ot.a)()),s=c.pipe(Object(Ct.a)(1),Object(Ot.a)());return l.subscribe(({clientX:e,clientY:t,x:n,y:a})=>{if(this.zone.run(()=>{this.dragStart.next({cancelDrag$:i})}),this.scroller=new wt([this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.defaultView],Object.assign({},this.autoScroll,{autoScroll:()=>!0})),Rt(this.renderer,this.element,this.dragActiveClass),this.ghostDragEnabled){const o=this.element.nativeElement.getBoundingClientRect(),i=this.element.nativeElement.cloneNode(!0);if(this.showOriginalElementWhileDragging||this.renderer.setStyle(this.element.nativeElement,"visibility","hidden"),this.ghostElementAppendTo?this.ghostElementAppendTo.appendChild(i):this.element.nativeElement.parentNode.insertBefore(i,this.element.nativeElement.nextSibling),this.ghostElement=i,this.document.body.style.cursor=this.dragCursor,this.setElementStyles(i,{position:"fixed",top:o.top+"px",left:o.left+"px",width:o.width+"px",height:o.height+"px",cursor:this.dragCursor,margin:"0",willChange:"transform",pointerEvents:"none"}),this.ghostElementTemplate){const e=this.vcr.createEmbeddedView(this.ghostElementTemplate);i.innerHTML="",e.rootNodes.filter(e=>e instanceof Node).forEach(e=>{i.appendChild(e)}),s.subscribe(()=>{this.vcr.remove(this.vcr.indexOf(e))})}this.zone.run(()=>{this.ghostElementCreated.emit({clientX:e-n,clientY:t-a,element:i})}),s.subscribe(()=>{i.parentElement.removeChild(i),this.ghostElement=null,this.renderer.setStyle(this.element.nativeElement,"visibility","")})}this.draggableHelper.currentDrag.next(o)}),s.pipe(Object(xt.a)(e=>{const t=i.pipe(e=>e.lift(new Et(void 0,e)),Object(kt.a)(1),Object(Ie.a)(t=>Object.assign({},e,{dragCancelled:t>0})));return i.complete(),t})).subscribe(({x:e,y:t,dragCancelled:n})=>{this.scroller.destroy(),this.zone.run(()=>{this.dragEnd.next({x:e,y:t,dragCancelled:n})}),Vt(this.renderer,this.element,this.dragActiveClass),o.complete()}),Object(Ge.a)(r,s).pipe(Object(kt.a)(1)).subscribe(()=>{requestAnimationFrame(()=>{this.document.head.removeChild(t)})}),c}),Object(Ot.a)());Object(Ge.a)(e.pipe(Object(kt.a)(1),Object(Ie.a)(e=>[,e])),e.pipe(Object(Tt.a)())).pipe(Object(Dt.a)(([e,t])=>!e||e.x!==t.x||e.y!==t.y),Object(Ie.a)(([e,t])=>t)).subscribe(({x:e,y:t,currentDrag$:n,clientX:a,clientY:o,transformX:i,transformY:r,target:c})=>{this.zone.run(()=>{this.dragging.next({x:e,y:t})}),requestAnimationFrame(()=>{if(this.ghostElement){const e=`translate3d(${i}px, ${r}px, 0px)`;this.setElementStyles(this.ghostElement,{transform:e,"-webkit-transform":e,"-ms-transform":e,"-moz-transform":e,"-o-transform":e})}}),n.next({clientX:a,clientY:o,dropData:this.dropData,target:c})})}ngOnChanges(e){e.dragAxis&&this.checkEventListeners()}ngOnDestroy(){this.unsubscribeEventListeners(),this.pointerDown$.complete(),this.pointerMove$.complete(),this.pointerUp$.complete(),this.destroy$.next()}checkEventListeners(){const e=this.canDrag(),t=Object.keys(this.eventListenerSubscriptions).length>0;e&&!t?this.zone.runOutsideAngular(()=>{this.eventListenerSubscriptions.mousedown=this.renderer.listen(this.element.nativeElement,"mousedown",e=>{this.onMouseDown(e)}),this.eventListenerSubscriptions.mouseup=this.renderer.listen("document","mouseup",e=>{this.onMouseUp(e)}),this.eventListenerSubscriptions.touchstart=this.renderer.listen(this.element.nativeElement,"touchstart",e=>{this.onTouchStart(e)}),this.eventListenerSubscriptions.touchend=this.renderer.listen("document","touchend",e=>{this.onTouchEnd(e)}),this.eventListenerSubscriptions.touchcancel=this.renderer.listen("document","touchcancel",e=>{this.onTouchEnd(e)}),this.eventListenerSubscriptions.mouseenter=this.renderer.listen(this.element.nativeElement,"mouseenter",()=>{this.onMouseEnter()}),this.eventListenerSubscriptions.mouseleave=this.renderer.listen(this.element.nativeElement,"mouseleave",()=>{this.onMouseLeave()})}):!e&&t&&this.unsubscribeEventListeners()}onMouseDown(e){0===e.button&&(this.eventListenerSubscriptions.mousemove||(this.eventListenerSubscriptions.mousemove=this.renderer.listen("document","mousemove",e=>{this.pointerMove$.next({event:e,clientX:e.clientX,clientY:e.clientY})})),this.pointerDown$.next({event:e,clientX:e.clientX,clientY:e.clientY}))}onMouseUp(e){0===e.button&&(this.eventListenerSubscriptions.mousemove&&(this.eventListenerSubscriptions.mousemove(),delete this.eventListenerSubscriptions.mousemove),this.pointerUp$.next({event:e,clientX:e.clientX,clientY:e.clientY}))}onTouchStart(e){let t,n,a;if((this.scrollContainer&&this.scrollContainer.activeLongPressDrag||this.touchStartLongPress)&&(this.timeLongPress.timerBegin=Date.now(),n=!1,a=this.hasScrollbar(),t=this.getScrollPosition()),!this.eventListenerSubscriptions.touchmove){const o=Object(Ze.a)(this.document,"contextmenu").subscribe(e=>{e.preventDefault()}),i=Object(Ze.a)(this.document,"touchmove",{passive:!1}).subscribe(o=>{(this.scrollContainer&&this.scrollContainer.activeLongPressDrag||this.touchStartLongPress)&&!n&&a&&(n=this.shouldBeginDrag(e,o,t)),(this.scrollContainer&&this.scrollContainer.activeLongPressDrag||this.touchStartLongPress)&&a&&!n||(o.preventDefault(),this.pointerMove$.next({event:o,clientX:o.targetTouches[0].clientX,clientY:o.targetTouches[0].clientY}))});this.eventListenerSubscriptions.touchmove=()=>{o.unsubscribe(),i.unsubscribe()}}this.pointerDown$.next({event:e,clientX:e.touches[0].clientX,clientY:e.touches[0].clientY})}onTouchEnd(e){this.eventListenerSubscriptions.touchmove&&(this.eventListenerSubscriptions.touchmove(),delete this.eventListenerSubscriptions.touchmove,(this.scrollContainer&&this.scrollContainer.activeLongPressDrag||this.touchStartLongPress)&&this.enableScroll()),this.pointerUp$.next({event:e,clientX:e.changedTouches[0].clientX,clientY:e.changedTouches[0].clientY})}onMouseEnter(){this.setCursor(this.dragCursor)}onMouseLeave(){this.setCursor("")}canDrag(){return this.dragAxis.x||this.dragAxis.y}setCursor(e){this.eventListenerSubscriptions.mousemove||this.renderer.setStyle(this.element.nativeElement,"cursor",e)}unsubscribeEventListeners(){Object.keys(this.eventListenerSubscriptions).forEach(e=>{this.eventListenerSubscriptions[e](),delete this.eventListenerSubscriptions[e]})}setElementStyles(e,t){Object.keys(t).forEach(n=>{this.renderer.setStyle(e,n,t[n])})}getScrollElement(){return this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.body}getScrollPosition(){return this.scrollContainer?{top:this.scrollContainer.elementRef.nativeElement.scrollTop,left:this.scrollContainer.elementRef.nativeElement.scrollLeft}:{top:window.pageYOffset||this.document.documentElement.scrollTop,left:window.pageXOffset||this.document.documentElement.scrollLeft}}shouldBeginDrag(e,t,n){const a=this.getScrollPosition(),o=Math.abs(a.top-n.top),i=Math.abs(a.left-n.left),r=Math.abs(t.targetTouches[0].clientX-e.touches[0].clientX)-i,c=Math.abs(t.targetTouches[0].clientY-e.touches[0].clientY)-o,l=this.touchStartLongPress?this.touchStartLongPress:{delta:this.scrollContainer.longPressConfig.delta,delay:this.scrollContainer.longPressConfig.duration};return(r+c>l.delta||o>0||i>0)&&(this.timeLongPress.timerBegin=Date.now()),this.timeLongPress.timerEnd=Date.now(),this.timeLongPress.timerEnd-this.timeLongPress.timerBegin>=l.delay&&(this.disableScroll(),!0)}enableScroll(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow",""),this.renderer.setStyle(this.document.body,"overflow","")}disableScroll(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow","hidden"),this.renderer.setStyle(this.document.body,"overflow","hidden")}hasScrollbar(){const e=this.getScrollElement();return e.scrollWidth>e.clientWidth||e.scrollHeight>e.clientHeight}}return e.\u0275fac=function(t){return new(t||e)(f.Qb(f.l),f.Qb(f.E),f.Qb(Lt),f.Qb(f.z),f.Qb(f.O),f.Qb(Wt,8),f.Qb(a.e))},e.\u0275dir=f.Lb({type:e,selectors:[["","mwlDraggable",""]],inputs:{dragAxis:"dragAxis",dragSnapGrid:"dragSnapGrid",ghostDragEnabled:"ghostDragEnabled",showOriginalElementWhileDragging:"showOriginalElementWhileDragging",dragCursor:"dragCursor",autoScroll:"autoScroll",dropData:"dropData",validateDrag:"validateDrag",dragActiveClass:"dragActiveClass",ghostElementAppendTo:"ghostElementAppendTo",ghostElementTemplate:"ghostElementTemplate",touchStartLongPress:"touchStartLongPress"},outputs:{dragPointerDown:"dragPointerDown",dragStart:"dragStart",ghostElementCreated:"ghostElementCreated",dragging:"dragging",dragEnd:"dragEnd"},features:[f.Bb]}),e})();function Pt(e,t,n){return e>=n.left&&e<=n.right&&t>=n.top&&t<=n.bottom}let jt=(()=>{class e{constructor(e,t,n,a,o){this.element=e,this.draggableHelper=t,this.zone=n,this.renderer=a,this.scrollContainer=o,this.dragEnter=new f.n,this.dragLeave=new f.n,this.dragOver=new f.n,this.drop=new f.n}ngOnInit(){this.currentDragSubscription=this.draggableHelper.currentDrag.subscribe(e=>{Rt(this.renderer,this.element,this.dragActiveClass);const t={updateCache:!0},n=this.renderer.listen(this.scrollContainer?this.scrollContainer.elementRef.nativeElement:"window","scroll",()=>{t.updateCache=!0});let a;const o=e.pipe(Object(Ie.a)(({clientX:e,clientY:n,dropData:o,target:i})=>{a=o,t.updateCache&&(t.rect=this.element.nativeElement.getBoundingClientRect(),this.scrollContainer&&(t.scrollContainerRect=this.scrollContainer.elementRef.nativeElement.getBoundingClientRect()),t.updateCache=!1);const r=Pt(e,n,t.rect),c=!this.validateDrop||this.validateDrop({clientX:e,clientY:n,target:i});return t.scrollContainerRect?r&&c&&Pt(e,n,t.scrollContainerRect):r&&c})),i=o.pipe(Object(Mt.a)());let r;i.pipe(Object(Dt.a)(e=>e)).subscribe(()=>{r=!0,Rt(this.renderer,this.element,this.dragOverClass),this.zone.run(()=>{this.dragEnter.next({dropData:a})})}),o.pipe(Object(Dt.a)(e=>e)).subscribe(()=>{this.zone.run(()=>{this.dragOver.next({dropData:a})})}),i.pipe(Object(Tt.a)(),Object(Dt.a)(([e,t])=>e&&!t)).subscribe(()=>{r=!1,Vt(this.renderer,this.element,this.dragOverClass),this.zone.run(()=>{this.dragLeave.next({dropData:a})})}),e.subscribe({complete:()=>{n(),Vt(this.renderer,this.element,this.dragActiveClass),r&&(Vt(this.renderer,this.element,this.dragOverClass),this.zone.run(()=>{this.drop.next({dropData:a})}))}})})}ngOnDestroy(){this.currentDragSubscription&&this.currentDragSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(f.Qb(f.l),f.Qb(Lt),f.Qb(f.z),f.Qb(f.E),f.Qb(Wt,8))},e.\u0275dir=f.Lb({type:e,selectors:[["","mwlDroppable",""]],inputs:{dragOverClass:"dragOverClass",dragActiveClass:"dragActiveClass",validateDrop:"validateDrop"},outputs:{dragEnter:"dragEnter",dragLeave:"dragLeave",dragOver:"dragOver",drop:"drop"}}),e})(),zt=(()=>{class e{}return e.\u0275mod=f.Ob({type:e}),e.\u0275inj=f.Nb({factory:function(t){return new(t||e)}}),e})();n("EY2u"),n("vkgz"),n("3UWI");let Ft=(()=>{class e{}return e.\u0275mod=f.Ob({type:e}),e.\u0275inj=f.Nb({factory:function(t){return new(t||e)}}),e})();var Bt=n("R0Ic");const Nt=function(e){return{action:e}};function Ht(e,t){if(1&e){const e=f.Xb();f.Wb(0,"a",5),f.ec("mwlClick",(function(n){f.Ec(e);const a=t.$implicit,o=f.ic(2).event;return a.onClick({event:o,sourceEvent:n})}))("mwlKeydownEnter",(function(n){f.Ec(e);const a=t.$implicit,o=f.ic(2).event;return a.onClick({event:o,sourceEvent:n})})),f.jc(1,"calendarA11y"),f.Vb()}if(2&e){const e=t.$implicit;f.pc("ngClass",e.cssClass)("innerHtml",e.label,f.Fc),f.Eb("aria-label",f.lc(1,3,f.rc(6,Nt,e),"actionButtonLabel"))}}function Xt(e,t){if(1&e&&(f.Wb(0,"span",3),f.Mc(1,Ht,2,8,"a",4),f.Vb()),2&e){const e=f.ic(),t=e.event,n=e.trackByActionId;f.Db(1),f.pc("ngForOf",t.actions)("ngForTrackBy",n)}}function Yt(e,t){1&e&&f.Mc(0,Xt,2,2,"span",2),2&e&&f.pc("ngIf",t.event.actions)}function $t(e,t){}const _t=function(e,t){return{event:e,trackByActionId:t}},Qt=function(){return{}};function qt(e,t){if(1&e&&(f.Rb(0,"span",2),f.jc(1,"calendarEventTitle"),f.jc(2,"calendarA11y")),2&e){const e=t.event;f.pc("innerHTML",f.mc(1,2,e.title,t.view,e),f.Fc),f.Eb("aria-hidden",f.lc(2,6,f.qc(9,Qt),"hideEventTitle"))}}function Ut(e,t){}const Kt=function(e,t){return{event:e,view:t}};function Gt(e,t){if(1&e&&(f.Wb(0,"div",2),f.Rb(1,"div",3),f.Rb(2,"div",4),f.Vb()),2&e){const e=t.contents;f.pc("ngClass","cal-tooltip-"+t.placement),f.Db(2),f.pc("innerHtml",e,f.Fc)}}function Jt(e,t){}const Zt=function(e,t,n){return{contents:e,placement:t,event:n}},en=function(e){return{backgroundColor:e}};function tn(e,t){if(1&e){const e=f.Xb();f.Wb(0,"mwl-calendar-month-cell",7),f.ec("mwlClick",(function(n){f.Ec(e);const a=t.$implicit;return f.ic(2).dayClicked.emit({day:a,sourceEvent:n})}))("mwlKeydownEnter",(function(n){f.Ec(e);const a=t.$implicit;return f.ic(2).dayClicked.emit({day:a,sourceEvent:n})}))("highlightDay",(function(t){return f.Ec(e),f.ic(2).toggleDayHighlight(t.event,!0)}))("unhighlightDay",(function(t){return f.Ec(e),f.ic(2).toggleDayHighlight(t.event,!1)}))("drop",(function(n){f.Ec(e);const a=t.$implicit;return f.ic(2).eventDropped(a,n.dropData.event,n.dropData.draggedFrom)}))("eventClicked",(function(t){return f.Ec(e),f.ic(2).eventClicked.emit({event:t.event,sourceEvent:t.sourceEvent})})),f.jc(1,"calendarA11y"),f.Vb()}if(2&e){const e=t.$implicit,n=f.ic(2);f.pc("ngClass",null==e?null:e.cssClass)("day",e)("openDay",n.openDay)("locale",n.locale)("tooltipPlacement",n.tooltipPlacement)("tooltipAppendToBody",n.tooltipAppendToBody)("tooltipTemplate",n.tooltipTemplate)("tooltipDelay",n.tooltipDelay)("customTemplate",n.cellTemplate)("ngStyle",f.rc(15,en,e.backgroundColor))("clickListenerDisabled",0===n.dayClicked.observers.length),f.Eb("tabindex",f.lc(1,12,f.qc(17,Qt),"monthCellTabIndex"))}}function nn(e,t){if(1&e){const e=f.Xb();f.Wb(0,"div"),f.Wb(1,"div",4),f.Mc(2,tn,2,18,"mwl-calendar-month-cell",5),f.jc(3,"slice"),f.Vb(),f.Wb(4,"mwl-calendar-open-day-events",6),f.ec("eventClicked",(function(t){return f.Ec(e),f.ic().eventClicked.emit({event:t.event,sourceEvent:t.sourceEvent})}))("drop",(function(t){f.Ec(e);const n=f.ic();return n.eventDropped(n.openDay,t.dropData.event,t.dropData.draggedFrom)})),f.Vb(),f.Vb()}if(2&e){const e=t.$implicit,n=f.ic();f.Db(2),f.pc("ngForOf",f.mc(3,9,n.view.days,e,e+n.view.totalDaysVisibleInWeek))("ngForTrackBy",n.trackByDate),f.Db(2),f.pc("locale",n.locale)("isOpen",n.openRowIndex===e)("events",null==n.openDay?null:n.openDay.events)("date",null==n.openDay?null:n.openDay.date)("customTemplate",n.openDayEventsTemplate)("eventTitleTemplate",n.eventTitleTemplate)("eventActionsTemplate",n.eventActionsTemplate)}}function an(e,t){if(1&e){const e=f.Xb();f.Wb(0,"div",4),f.ec("click",(function(n){f.Ec(e);const a=t.$implicit;return f.ic(2).columnHeaderClicked.emit({isoDayNumber:a.day,sourceEvent:n})})),f.Oc(1),f.jc(2,"calendarDate"),f.Vb()}if(2&e){const e=t.$implicit,n=f.ic().locale;f.Hb("cal-past",e.isPast)("cal-today",e.isToday)("cal-future",e.isFuture)("cal-weekend",e.isWeekend),f.pc("ngClass",e.cssClass),f.Db(1),f.Qc(" ",f.mc(2,10,e.date,"monthViewColumnHeader",n)," ")}}function on(e,t){if(1&e&&(f.Wb(0,"div",2),f.Mc(1,an,3,14,"div",3),f.Vb()),2&e){const e=t.days,n=t.trackByWeekDayHeaderDate;f.Db(1),f.pc("ngForOf",e)("ngForTrackBy",n)}}function rn(e,t){}const cn=function(e,t,n){return{days:e,locale:t,trackByWeekDayHeaderDate:n}};function ln(e,t){if(1&e&&(f.Wb(0,"span",7),f.Oc(1),f.Vb()),2&e){const e=f.ic().day;f.Db(1),f.Pc(e.badgeTotal)}}const sn=function(e,t){return{event:e,draggedFrom:t}},un=function(e,t){return{x:e,y:t}},dn=function(){return{delay:300,delta:30}};function pn(e,t){if(1&e){const e=f.Xb();f.Wb(0,"div",10),f.ec("mouseenter",(function(){f.Ec(e);const n=t.$implicit;return f.ic(2).highlightDay.emit({event:n})}))("mouseleave",(function(){f.Ec(e);const n=t.$implicit;return f.ic(2).unhighlightDay.emit({event:n})}))("mwlClick",(function(n){f.Ec(e);const a=t.$implicit;return f.ic(2).eventClicked.emit({event:a,sourceEvent:n})})),f.jc(1,"calendarEventTitle"),f.jc(2,"calendarA11y"),f.Vb()}if(2&e){const e=t.$implicit,n=f.ic(2),a=n.tooltipPlacement,o=n.tooltipTemplate,i=n.tooltipAppendToBody,r=n.tooltipDelay,c=n.day,l=n.validateDrag;f.Hb("cal-draggable",e.draggable),f.pc("ngStyle",f.rc(22,en,null==e.color?null:e.color.primary))("ngClass",null==e?null:e.cssClass)("mwlCalendarTooltip",f.mc(1,15,e.title,"monthTooltip",e))("tooltipPlacement",a)("tooltipEvent",e)("tooltipTemplate",o)("tooltipAppendToBody",i)("tooltipDelay",r)("dropData",f.sc(24,sn,e,c))("dragAxis",f.sc(27,un,e.draggable,e.draggable))("validateDrag",l)("touchStartLongPress",f.qc(30,dn)),f.Eb("aria-hidden",f.lc(2,19,f.qc(31,Qt),"hideMonthCellEvents"))}}function hn(e,t){if(1&e&&(f.Wb(0,"div",8),f.Mc(1,pn,3,32,"div",9),f.Vb()),2&e){const e=f.ic(),t=e.day,n=e.trackByEventId;f.Db(1),f.pc("ngForOf",t.events)("ngForTrackBy",n)}}const mn=function(e,t){return{day:e,locale:t}};function fn(e,t){if(1&e&&(f.Wb(0,"div",2),f.jc(1,"calendarA11y"),f.Wb(2,"span",3),f.Mc(3,ln,2,1,"span",4),f.Wb(4,"span",5),f.Oc(5),f.jc(6,"calendarDate"),f.Vb(),f.Vb(),f.Vb(),f.Mc(7,hn,2,2,"div",6)),2&e){const e=t.day,n=t.locale;f.Eb("aria-label",f.lc(1,4,f.sc(11,mn,e,n),"monthCell")),f.Db(3),f.pc("ngIf",e.badgeTotal>0),f.Db(2),f.Pc(f.mc(6,7,e.date,"monthViewDayNumber",n)),f.Db(2),f.pc("ngIf",e.events.length>0)}}function bn(e,t){}const gn=function(e,t,n,a,o,i,r,c,l,s,u,d){return{day:e,openDay:t,locale:n,tooltipPlacement:a,highlightDay:o,unhighlightDay:i,eventClicked:r,tooltipTemplate:c,tooltipAppendToBody:l,tooltipDelay:s,trackByEventId:u,validateDrag:d}},vn=function(e){return{event:e}},wn=function(e,t){return{event:e,locale:t}};function yn(e,t){if(1&e){const e=f.Xb();f.Wb(0,"div",7),f.Rb(1,"span",8),f.Oc(2," "),f.Wb(3,"mwl-calendar-event-title",9),f.ec("mwlClick",(function(n){f.Ec(e);const a=t.$implicit;return f.ic(2).eventClicked.emit({event:a,sourceEvent:n})}))("mwlKeydownEnter",(function(n){f.Ec(e);const a=t.$implicit;return f.ic(2).eventClicked.emit({event:a,sourceEvent:n})})),f.jc(4,"calendarA11y"),f.Vb(),f.Oc(5," "),f.Rb(6,"mwl-calendar-event-actions",10),f.Vb()}if(2&e){const e=t.$implicit,n=f.ic(2).validateDrag,a=f.ic();f.Hb("cal-draggable",e.draggable),f.pc("ngClass",null==e?null:e.cssClass)("dropData",f.rc(16,vn,e))("dragAxis",f.sc(18,un,e.draggable,e.draggable))("validateDrag",n)("touchStartLongPress",f.qc(21,dn)),f.Db(1),f.pc("ngStyle",f.rc(22,en,null==e.color?null:e.color.primary)),f.Db(2),f.pc("event",e)("customTemplate",a.eventTitleTemplate),f.Eb("aria-label",f.lc(4,13,f.sc(24,wn,e,a.locale),"eventDescription")),f.Db(3),f.pc("event",e)("customTemplate",a.eventActionsTemplate)}}const Dn=function(e,t){return{date:e,locale:t}};function xn(e,t){if(1&e&&(f.Wb(0,"div",3),f.Rb(1,"span",4),f.jc(2,"calendarA11y"),f.Rb(3,"span",5),f.jc(4,"calendarA11y"),f.Mc(5,yn,7,27,"div",6),f.Vb()),2&e){const e=f.ic(),t=e.events,n=e.trackByEventId,a=f.ic();f.pc("@collapse",void 0),f.Db(1),f.Eb("aria-label",f.lc(2,5,f.sc(11,Dn,a.date,a.locale),"openDayEventsAlert")),f.Db(2),f.Eb("aria-label",f.lc(4,8,f.sc(14,Dn,a.date,a.locale),"openDayEventsLandmark")),f.Db(2),f.pc("ngForOf",t)("ngForTrackBy",n)}}function On(e,t){1&e&&f.Mc(0,xn,6,17,"div",2),2&e&&f.pc("ngIf",t.isOpen)}function kn(e,t){}const Cn=function(e,t,n,a,o){return{events:e,eventClicked:t,isOpen:n,trackByEventId:a,validateDrag:o}};let Sn=(()=>{let e=class{constructor(){this.trackByActionId=(e,t)=>t.id?t.id:t}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=f.Kb({type:e,selectors:[["mwl-calendar-event-actions"]],inputs:{event:"event",customTemplate:"customTemplate"},decls:3,vars:5,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-event-actions",4,"ngIf"],[1,"cal-event-actions"],["class","cal-event-action","href","javascript:;","tabindex","0","role","button",3,"ngClass","innerHtml","mwlClick","mwlKeydownEnter",4,"ngFor","ngForOf","ngForTrackBy"],["href","javascript:;","tabindex","0","role","button",1,"cal-event-action",3,"ngClass","innerHtml","mwlClick","mwlKeydownEnter"]],template:function(e,t){if(1&e&&(f.Mc(0,Yt,1,1,"ng-template",null,0,f.Nc),f.Mc(2,$t,0,0,"ng-template",1)),2&e){const e=f.Ac(1);f.Db(2),f.pc("ngTemplateOutlet",t.customTemplate||e)("ngTemplateOutletContext",f.sc(2,_t,t.event,t.trackByActionId))}},directives:function(){return[a.A,a.t,a.s,a.q,Yn,$n]},pipes:function(){return[qn]},encapsulation:2}),e})(),En=(()=>{let e=class{};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=f.Kb({type:e,selectors:[["mwl-calendar-event-title"]],inputs:{event:"event",customTemplate:"customTemplate",view:"view"},decls:3,vars:5,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-event-title",3,"innerHTML"]],template:function(e,t){if(1&e&&(f.Mc(0,qt,3,10,"ng-template",null,0,f.Nc),f.Mc(2,Ut,0,0,"ng-template",1)),2&e){const e=f.Ac(1);f.Db(2),f.pc("ngTemplateOutlet",t.customTemplate||e)("ngTemplateOutletContext",f.sc(2,Kt,t.event,t.view))}},directives:function(){return[a.A]},pipes:function(){return[Xn,qn]},encapsulation:2}),e})(),An=(()=>{let e=class{};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=f.Kb({type:e,selectors:[["mwl-calendar-tooltip-window"]],inputs:{contents:"contents",placement:"placement",event:"event",customTemplate:"customTemplate"},decls:3,vars:6,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-tooltip",3,"ngClass"],[1,"cal-tooltip-arrow"],[1,"cal-tooltip-inner",3,"innerHtml"]],template:function(e,t){if(1&e&&(f.Mc(0,Gt,3,2,"ng-template",null,0,f.Nc),f.Mc(2,Jt,0,0,"ng-template",1)),2&e){const e=f.Ac(1);f.Db(2),f.pc("ngTemplateOutlet",t.customTemplate||e)("ngTemplateOutletContext",f.tc(2,Zt,t.contents,t.placement,t.event))}},directives:[a.A,a.q],encapsulation:2}),e})(),Tn=(()=>{let e=class{constructor(e,t,n,a,o,i){this.elementRef=e,this.injector=t,this.renderer=n,this.viewContainerRef=o,this.document=i,this.placement="auto",this.delay=null,this.cancelTooltipDelay$=new Me.a,this.tooltipFactory=a.resolveComponentFactory(An)}ngOnChanges(e){this.tooltipRef&&(e.contents||e.customTemplate||e.event)&&(this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.tooltipRef.changeDetectorRef.markForCheck(),this.contents||this.hide())}ngOnDestroy(){this.hide()}onMouseOver(){(null===this.delay?Object(ye.a)("now"):Object(Le.a)(this.delay)).pipe(Object(Re.a)(this.cancelTooltipDelay$)).subscribe(()=>{this.show()})}onMouseOut(){this.hide()}show(){!this.tooltipRef&&this.contents&&(this.tooltipRef=this.viewContainerRef.createComponent(this.tooltipFactory,0,this.injector,[]),this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.appendToBody&&this.document.body.appendChild(this.tooltipRef.location.nativeElement),requestAnimationFrame(()=>{this.positionTooltip()}))}hide(){this.tooltipRef&&(this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.tooltipRef.hostView)),this.tooltipRef=null),this.cancelTooltipDelay$.next()}positionTooltip(e=[]){this.tooltipRef&&(this.tooltipRef.changeDetectorRef.detectChanges(),this.tooltipRef.instance.placement=function(e,t,n,a,o){var i=Array.isArray(n)?n:n.split(Ae),r=function(e){e.split("-");return[]},c=i.findIndex((function(e){return"auto"===e}));c>=0&&["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"].forEach((function(e){null==i.find((function(t){return-1!==t.search("^"+e)}))&&i.splice(c++,1,e)}));var l,s=t.style;s.position="absolute",s.top="0",s.left="0",s["will-change"]="transform";for(var u=!1,d=0,p=i;d<p.length;d++)if(r(l=p[d]),Te.positionElements(e,t,l,a)){u=!0;break}return u||(r(l=i[0]),Te.positionElements(e,t,l,a)),l}(this.elementRef.nativeElement,this.tooltipRef.location.nativeElement.children[0],this.placement,this.appendToBody),-1===e.indexOf(this.tooltipRef.instance.placement)&&this.positionTooltip([...e,this.tooltipRef.instance.placement]))}};return e.\u0275fac=function(t){return new(t||e)(f.Qb(f.l),f.Qb(f.r),f.Qb(f.E),f.Qb(f.j),f.Qb(f.O),f.Qb(a.e))},e.\u0275dir=f.Lb({type:e,selectors:[["","mwlCalendarTooltip",""]],hostBindings:function(e,t){1&e&&f.ec("mouseenter",(function(){return t.onMouseOver()}))("mouseleave",(function(){return t.onMouseOut()}))},inputs:{placement:["tooltipPlacement","placement"],delay:["tooltipDelay","delay"],contents:["mwlCalendarTooltip","contents"],customTemplate:["tooltipTemplate","customTemplate"],event:["tooltipEvent","event"],appendToBody:["tooltipAppendToBody","appendToBody"]},features:[f.Bb]}),e})();class Mn{}var Ln=function(e){return e.Month="month",e.Week="week",e.Day="day",e}({});const Wn=(e,t)=>t.id?t.id:t,Rn=(e,t)=>t.date.toISOString();function Vn(e,t,n,a){let o=0,i=0;const r=n<0?e.subDays:e.addDays;let c=t;for(;i<=Math.abs(n);){c=r(t,o);const n=e.getDay(c);-1===a.indexOf(n)&&i++,o++}return c}function In({x:e,y:t}){return Math.abs(e)>1||Math.abs(t)>1}let Pn=(()=>{let e=class{constructor(e){this.dateAdapter=e,this.excludeDays=[],this.viewDateChange=new f.n}onClick(){const e={day:this.dateAdapter.subDays,week:this.dateAdapter.subWeeks,month:this.dateAdapter.subMonths}[this.view];this.viewDateChange.emit(this.view===Ln.Day?Vn(this.dateAdapter,this.viewDate,-1,this.excludeDays):this.view===Ln.Week&&this.daysInWeek?Vn(this.dateAdapter,this.viewDate,-this.daysInWeek,this.excludeDays):e(this.viewDate,1))}};return e.\u0275fac=function(t){return new(t||e)(f.Qb(Mn))},e.\u0275dir=f.Lb({type:e,selectors:[["","mwlCalendarPreviousView",""]],hostBindings:function(e,t){1&e&&f.ec("click",(function(){return t.onClick()}))},inputs:{excludeDays:"excludeDays",view:"view",viewDate:"viewDate",daysInWeek:"daysInWeek"},outputs:{viewDateChange:"viewDateChange"}}),e})(),jn=(()=>{let e=class{constructor(e){this.dateAdapter=e,this.excludeDays=[],this.viewDateChange=new f.n}onClick(){const e={day:this.dateAdapter.addDays,week:this.dateAdapter.addWeeks,month:this.dateAdapter.addMonths}[this.view];this.viewDateChange.emit(this.view===Ln.Day?Vn(this.dateAdapter,this.viewDate,1,this.excludeDays):this.view===Ln.Week&&this.daysInWeek?Vn(this.dateAdapter,this.viewDate,this.daysInWeek,this.excludeDays):e(this.viewDate,1))}};return e.\u0275fac=function(t){return new(t||e)(f.Qb(Mn))},e.\u0275dir=f.Lb({type:e,selectors:[["","mwlCalendarNextView",""]],hostBindings:function(e,t){1&e&&f.ec("click",(function(){return t.onClick()}))},inputs:{excludeDays:"excludeDays",view:"view",viewDate:"viewDate",daysInWeek:"daysInWeek"},outputs:{viewDateChange:"viewDateChange"}}),e})(),zn=(()=>{let e=class{constructor(e){this.dateAdapter=e,this.viewDateChange=new f.n}onClick(){this.viewDateChange.emit(this.dateAdapter.startOfDay(new Date))}};return e.\u0275fac=function(t){return new(t||e)(f.Qb(Mn))},e.\u0275dir=f.Lb({type:e,selectors:[["","mwlCalendarToday",""]],hostBindings:function(e,t){1&e&&f.ec("click",(function(){return t.onClick()}))},inputs:{viewDate:"viewDate"},outputs:{viewDateChange:"viewDateChange"}}),e})(),Fn=(()=>{let e=class{constructor(e){this.dateAdapter=e}monthViewColumnHeader({date:e,locale:t}){return Object(a.I)(e,"EEEE",t)}monthViewDayNumber({date:e,locale:t}){return Object(a.I)(e,"d",t)}monthViewTitle({date:e,locale:t}){return Object(a.I)(e,"LLLL y",t)}weekViewColumnHeader({date:e,locale:t}){return Object(a.I)(e,"EEEE",t)}weekViewColumnSubHeader({date:e,locale:t}){return Object(a.I)(e,"MMM d",t)}weekViewTitle({date:e,locale:t,weekStartsOn:n,excludeDays:o,daysInWeek:i}){const{viewStart:r,viewEnd:c}=function(e,t,n,a=[],o){let i=o?e.startOfDay(t):e.startOfWeek(t,{weekStartsOn:n});const r=e.endOfWeek(t,{weekStartsOn:n});for(;a.indexOf(e.getDay(i))>-1&&i<r;)i=e.addDays(i,1);if(o)return{viewStart:i,viewEnd:e.endOfDay(Vn(e,i,o-1,a))};{let t=r;for(;a.indexOf(e.getDay(t))>-1&&t>i;)t=e.subDays(t,1);return{viewStart:i,viewEnd:t}}}(this.dateAdapter,e,n,o,i),l=(e,n)=>Object(a.I)(e,"MMM d"+(n?", yyyy":""),t);return`${l(r,r.getUTCFullYear()!==c.getUTCFullYear())} - ${l(c,!0)}`}weekViewHour({date:e,locale:t}){return Object(a.I)(e,"h a",t)}dayViewHour({date:e,locale:t}){return Object(a.I)(e,"h a",t)}dayViewTitle({date:e,locale:t}){return Object(a.I)(e,"EEEE, MMMM d, y",t)}};return e.\u0275fac=function(t){return new(t||e)(f.ac(Mn))},e.\u0275prov=f.Mb({token:e,factory:e.\u0275fac}),e})(),Bn=(()=>{let e=class extends Fn{};return e.\u0275fac=function(t){return la(t||e)},e.\u0275prov=f.Mb({token:e,factory:e.\u0275fac}),e})(),Nn=(()=>{let e=class{constructor(e,t){this.dateFormatter=e,this.locale=t}transform(e,t,n=this.locale,a=0,o=[],i){if(void 0===this.dateFormatter[t]){const e=Object.getOwnPropertyNames(Object.getPrototypeOf(Bn.prototype)).filter(e=>"constructor"!==e);throw new Error(`${t} is not a valid date formatter. Can only be one of ${e.join(", ")}`)}return this.dateFormatter[t]({date:e,locale:n,weekStartsOn:a,excludeDays:o,daysInWeek:i})}};return e.\u0275fac=function(t){return new(t||e)(f.Qb(Bn),f.Qb(f.u))},e.\u0275pipe=f.Pb({name:"calendarDate",type:e,pure:!0}),e})();class Hn{month(e,t){return e.title}monthTooltip(e,t){return e.title}week(e,t){return e.title}weekTooltip(e,t){return e.title}day(e,t){return e.title}dayTooltip(e,t){return e.title}}let Xn=(()=>{let e=class{constructor(e){this.calendarEventTitle=e}transform(e,t,n){return this.calendarEventTitle[t](n,e)}};return e.\u0275fac=function(t){return new(t||e)(f.Qb(Hn))},e.\u0275pipe=f.Pb({name:"calendarEventTitle",type:e,pure:!0}),e})(),Yn=(()=>{let e=class{constructor(e,t,n){this.renderer=e,this.elm=t,this.document=n,this.clickListenerDisabled=!1,this.click=new f.n,this.destroy$=new Me.a}ngOnInit(){this.clickListenerDisabled||this.listen().pipe(Object(Re.a)(this.destroy$)).subscribe(e=>{e.stopPropagation(),this.click.emit(e)})}ngOnDestroy(){this.destroy$.next()}listen(){return new We.a(e=>this.renderer.listen(this.elm.nativeElement,"click",t=>{e.next(t)}))}};return e.\u0275fac=function(t){return new(t||e)(f.Qb(f.E),f.Qb(f.l),f.Qb(a.e))},e.\u0275dir=f.Lb({type:e,selectors:[["","mwlClick",""]],inputs:{clickListenerDisabled:"clickListenerDisabled"},outputs:{click:"mwlClick"}}),e})(),$n=(()=>{let e=class{constructor(){this.keydown=new f.n}onKeyPress(e){13!==e.keyCode&&13!==e.which&&"Enter"!==e.key||(e.preventDefault(),e.stopPropagation(),this.keydown.emit(e))}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=f.Lb({type:e,selectors:[["","mwlKeydownEnter",""]],hostBindings:function(e,t){1&e&&f.ec("keydown",(function(e){return t.onKeyPress(e)}))},outputs:{keydown:"mwlKeydownEnter"}}),e})(),_n=(()=>{let e=class{constructor(e){this.dateAdapter=e}getMonthView(e){return function(e,t){var n=t.events,a=void 0===n?[]:n,o=t.viewDate,i=t.weekStartsOn,r=t.excluded,c=void 0===r?[]:r,l=t.viewStart,s=void 0===l?e.startOfMonth(o):l,u=t.viewEnd,d=void 0===u?e.endOfMonth(o):u,p=t.weekendDays;a||(a=[]);for(var h,m=e.endOfWeek,f=e.differenceInDays,b=e.startOfDay,g=e.addHours,v=e.endOfDay,w=e.isSameMonth,y=e.getDay,D=(0,e.startOfWeek)(s,{weekStartsOn:i}),x=m(d,{weekStartsOn:i}),O=Ne(e,{events:a,periodStart:D,periodEnd:x}),k=[],C=function(t){var n;if(h?(n=b(g(h,24)),h.getTime()===n.getTime()&&(n=b(g(h,25))),h=n):n=h=D,!c.some((function(e){return y(n)===e}))){var a=He(e,{date:n,weekendDays:p}),i=Ne(e,{events:O,periodStart:b(n),periodEnd:v(n)});a.inMonth=w(n,o),a.events=i,a.badgeTotal=i.length,k.push(a)}},S=0;S<f(x,D)+1;S++)C();var E=[],A=7-c.length;if(A<7)for(S=0;S<k.length;S+=A){var T=k.slice(S,S+A);T.some((function(e){return s<=e.date&&e.date<d}))&&(E=je(E,T))}else E=k;var M=Math.floor(E.length/A),L=[];for(S=0;S<M;S++)L.push(S*A);return{rowOffsets:L,totalDaysVisibleInWeek:A,days:E,period:{start:E[0].date,end:v(E[E.length-1].date),events:O}}}(this.dateAdapter,e)}getWeekViewHeader(e){return Xe(this.dateAdapter,e)}getWeekView(e){return function(e,t){var n=t.events,a=void 0===n?[]:n,o=t.viewDate,i=t.weekStartsOn,r=t.excluded,c=void 0===r?[]:r,l=t.precision,s=void 0===l?"days":l,u=t.absolutePositionedEvents,d=void 0!==u&&u,p=t.hourSegments,h=t.hourDuration,m=t.dayStart,f=t.dayEnd,b=t.weekendDays,g=t.segmentHeight,v=t.minimumEventHeight,w=t.viewStart,y=void 0===w?e.startOfWeek(o,{weekStartsOn:i}):w,D=t.viewEnd,x=void 0===D?e.endOfWeek(o,{weekStartsOn:i}):D;a||(a=[]);var O=e.endOfDay,k=Ne(e,{events:a,periodStart:y=(0,e.startOfDay)(y),periodEnd:x=O(x)}),C=Xe(e,{viewDate:o,weekStartsOn:i,excluded:c,weekendDays:b,viewStart:y,viewEnd:x});return{allDayEventRows:Ye(e,{events:k,excluded:c,precision:s,absolutePositionedEvents:d,viewStart:y,viewEnd:x}),period:{events:k,start:C[0].date,end:O(C[C.length-1].date)},hourColumns:$e(e,{events:a,viewDate:o,hourSegments:p,hourDuration:h,dayStart:m,dayEnd:f,weekStartsOn:i,excluded:c,weekendDays:b,segmentHeight:g,viewStart:y,viewEnd:x,minimumEventHeight:v})}}(this.dateAdapter,e)}};return e.\u0275fac=function(t){return new(t||e)(f.ac(Mn))},e.\u0275prov=f.Mb({token:e,factory:e.\u0275fac}),e})(),Qn=(()=>{let e=class{constructor(e){this.i18nPlural=e}monthCell({day:e,locale:t}){return e.badgeTotal>0?`\n        ${Object(a.I)(e.date,"EEEE MMMM d",t)},\n        ${this.i18nPlural.transform(e.badgeTotal,{"=0":"No events","=1":"One event",other:"# events"})},\n         click to expand\n      `:""+Object(a.I)(e.date,"EEEE MMMM d",t)}openDayEventsLandmark({date:e,locale:t}){return`\n      Beginning of expanded view for ${Object(a.I)(e,"EEEE MMMM dd",t)}\n    `}openDayEventsAlert({date:e,locale:t}){return Object(a.I)(e,"EEEE MMMM dd",t)+" expanded"}eventDescription({event:e,locale:t}){if(!0===e.allDay)return this.allDayEventDescription({event:e,locale:t});const n=`\n      ${Object(a.I)(e.start,"EEEE MMMM dd",t)},\n      ${e.title}, from ${Object(a.I)(e.start,"hh:mm a",t)}\n    `;return e.end?n+" to "+Object(a.I)(e.end,"hh:mm a",t):n}allDayEventDescription({event:e,locale:t}){const n=`\n      ${e.title}, event spans multiple days:\n      start time ${Object(a.I)(e.start,"MMMM dd hh:mm a",t)}\n    `;return e.end?n+", stop time "+Object(a.I)(e.end,"MMMM d hh:mm a",t):n+", no stop time"}actionButtonLabel({action:e}){return e.a11yLabel}monthCellTabIndex(){return 0}hideMonthCellEvents(){return!0}hideEventTitle(){return!0}hideWeekHourSegment(){return!0}hideDayHourSegment(){return!0}};return e.\u0275fac=function(t){return new(t||e)(f.ac(a.i))},e.\u0275prov=f.Mb({token:e,factory:e.\u0275fac}),e})(),qn=(()=>{let e=class{constructor(e,t){this.calendarA11y=e,this.locale=t}transform(e,t){if(e.locale=e.locale||this.locale,void 0===this.calendarA11y[t]){const e=Object.getOwnPropertyNames(Object.getPrototypeOf(Qn.prototype)).filter(e=>"constructor"!==e);throw new Error(`${t} is not a valid a11y method. Can only be one of ${e.join(", ")}`)}return this.calendarA11y[t](e)}};return e.\u0275fac=function(t){return new(t||e)(f.Qb(Qn),f.Qb(f.u))},e.\u0275pipe=f.Pb({name:"calendarA11y",type:e,pure:!0}),e})();var Un,Kn=function(e){return e.Drag="drag",e.Drop="drop",e.Resize="resize",e}({});let Gn=(()=>{let e=Un=class{static forRoot(e,t={}){return{ngModule:Un,providers:[e,t.eventTitleFormatter||Hn,t.dateFormatter||Bn,t.utils||_n,t.a11y||Qn]}}};return e.\u0275mod=f.Ob({type:e}),e.\u0275inj=f.Nb({factory:function(t){return new(t||e)},providers:[a.i],imports:[[a.c]]}),e})(),Jn=(()=>{let e=class{constructor(e,t,n,a){this.cdr=e,this.utils=t,this.dateAdapter=a,this.events=[],this.excludeDays=[],this.activeDayIsOpen=!1,this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.beforeViewRender=new f.n,this.dayClicked=new f.n,this.eventClicked=new f.n,this.columnHeaderClicked=new f.n,this.eventTimesChanged=new f.n,this.trackByRowOffset=(e,t)=>this.view.days.slice(t,this.view.totalDaysVisibleInWeek).map(e=>e.date.toISOString()).join("-"),this.trackByDate=(e,t)=>t.date.toISOString(),this.locale=n}ngOnInit(){this.refresh&&(this.refreshSubscription=this.refresh.subscribe(()=>{this.refreshAll(),this.cdr.markForCheck()}))}ngOnChanges(e){const t=e.viewDate||e.excludeDays||e.weekendDays,n=e.viewDate||e.events||e.excludeDays||e.weekendDays;t&&this.refreshHeader(),e.events&&function(e,t){function n(e,n){t(e,n),!1}Array.isArray(e)?e.forEach((function(e){e.start?e.start instanceof Date||n(Ue.StartPropertyNotDate,e):n(Ue.StartPropertyMissing,e),e.end&&(e.end instanceof Date||n(Ue.EndPropertyNotDate,e),e.start>e.end&&n(Ue.EndsBeforeStart,e))})):t(Ue.NotArray,e)}(this.events,(...e)=>console.warn("angular-calendar",...e)),n&&this.refreshBody(),(t||n)&&this.emitBeforeViewRender(),(e.activeDayIsOpen||e.viewDate||e.events||e.excludeDays||e.activeDay)&&this.checkActiveDayIsOpen()}ngOnDestroy(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()}toggleDayHighlight(e,t){this.view.days.forEach(n=>{t&&n.events.indexOf(e)>-1?n.backgroundColor=e.color&&e.color.secondary||"#D1E8FF":delete n.backgroundColor})}eventDropped(e,t,n){if(e!==n){const n=this.dateAdapter.getYear(e.date),a=this.dateAdapter.getMonth(e.date),o=this.dateAdapter.getDate(e.date),i=this.dateAdapter.setDate(this.dateAdapter.setMonth(this.dateAdapter.setYear(t.start,n),a),o);let r;if(t.end){const e=this.dateAdapter.differenceInSeconds(i,t.start);r=this.dateAdapter.addSeconds(t.end,e)}this.eventTimesChanged.emit({event:t,newStart:i,newEnd:r,day:e,type:Kn.Drop})}}refreshHeader(){this.columnHeaders=this.utils.getWeekViewHeader({viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays})}refreshBody(){this.view=this.utils.getMonthView({events:this.events,viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays})}checkActiveDayIsOpen(){if(!0===this.activeDayIsOpen){const e=this.activeDay||this.viewDate;this.openDay=this.view.days.find(t=>this.dateAdapter.isSameDay(t.date,e));const t=this.view.days.indexOf(this.openDay);this.openRowIndex=Math.floor(t/this.view.totalDaysVisibleInWeek)*this.view.totalDaysVisibleInWeek}else this.openRowIndex=null,this.openDay=null}refreshAll(){this.refreshHeader(),this.refreshBody(),this.emitBeforeViewRender(),this.checkActiveDayIsOpen()}emitBeforeViewRender(){this.columnHeaders&&this.view&&this.beforeViewRender.emit({header:this.columnHeaders,body:this.view.days,period:this.view.period})}};return e.\u0275fac=function(t){return new(t||e)(f.Qb(f.h),f.Qb(_n),f.Qb(f.u),f.Qb(Mn))},e.\u0275cmp=f.Kb({type:e,selectors:[["mwl-calendar-month-view"]],inputs:{events:"events",excludeDays:"excludeDays",activeDayIsOpen:"activeDayIsOpen",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",locale:"locale",viewDate:"viewDate",activeDay:"activeDay",refresh:"refresh",tooltipTemplate:"tooltipTemplate",weekStartsOn:"weekStartsOn",headerTemplate:"headerTemplate",cellTemplate:"cellTemplate",openDayEventsTemplate:"openDayEventsTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",weekendDays:"weekendDays"},outputs:{beforeViewRender:"beforeViewRender",dayClicked:"dayClicked",eventClicked:"eventClicked",columnHeaderClicked:"columnHeaderClicked",eventTimesChanged:"eventTimesChanged"},features:[f.Bb],decls:4,vars:5,consts:[["role","grid",1,"cal-month-view"],[3,"days","locale","customTemplate","columnHeaderClicked"],[1,"cal-days"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"cal-cell-row"],["mwlDroppable","","dragOverClass","cal-drag-over",3,"ngClass","day","openDay","locale","tooltipPlacement","tooltipAppendToBody","tooltipTemplate","tooltipDelay","customTemplate","ngStyle","clickListenerDisabled","mwlClick","mwlKeydownEnter","highlightDay","unhighlightDay","drop","eventClicked",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over",3,"locale","isOpen","events","date","customTemplate","eventTitleTemplate","eventActionsTemplate","eventClicked","drop"],["mwlDroppable","","dragOverClass","cal-drag-over",3,"ngClass","day","openDay","locale","tooltipPlacement","tooltipAppendToBody","tooltipTemplate","tooltipDelay","customTemplate","ngStyle","clickListenerDisabled","mwlClick","mwlKeydownEnter","highlightDay","unhighlightDay","drop","eventClicked"]],template:function(e,t){1&e&&(f.Wb(0,"div",0),f.Wb(1,"mwl-calendar-month-view-header",1),f.ec("columnHeaderClicked",(function(e){return t.columnHeaderClicked.emit(e)})),f.Vb(),f.Wb(2,"div",2),f.Mc(3,nn,5,13,"div",3),f.Vb(),f.Vb()),2&e&&(f.Db(1),f.pc("days",t.columnHeaders)("locale",t.locale)("customTemplate",t.headerTemplate),f.Db(2),f.pc("ngForOf",t.view.rowOffsets)("ngForTrackBy",t.trackByRowOffset))},directives:function(){return[Zn,a.s,na,jt,ea,a.q,a.w,Yn,$n]},pipes:function(){return[a.E,qn]},encapsulation:2}),e})(),Zn=(()=>{let e=class{constructor(){this.columnHeaderClicked=new f.n,this.trackByWeekDayHeaderDate=Rn}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=f.Kb({type:e,selectors:[["mwl-calendar-month-view-header"]],inputs:{days:"days",locale:"locale",customTemplate:"customTemplate"},outputs:{columnHeaderClicked:"columnHeaderClicked"},decls:3,vars:6,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","row",1,"cal-cell-row","cal-header"],["class","cal-cell","tabindex","0","role","columnheader",3,"cal-past","cal-today","cal-future","cal-weekend","ngClass","click",4,"ngFor","ngForOf","ngForTrackBy"],["tabindex","0","role","columnheader",1,"cal-cell",3,"ngClass","click"]],template:function(e,t){if(1&e&&(f.Mc(0,on,2,2,"ng-template",null,0,f.Nc),f.Mc(2,rn,0,0,"ng-template",1)),2&e){const e=f.Ac(1);f.Db(2),f.pc("ngTemplateOutlet",t.customTemplate||e)("ngTemplateOutletContext",f.tc(2,cn,t.days,t.locale,t.trackByWeekDayHeaderDate))}},directives:[a.A,a.s,a.q],pipes:[Nn],encapsulation:2}),e})(),ea=(()=>{let e=class{constructor(){this.highlightDay=new f.n,this.unhighlightDay=new f.n,this.eventClicked=new f.n,this.trackByEventId=Wn,this.validateDrag=In}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=f.Kb({type:e,selectors:[["mwl-calendar-month-cell"]],hostAttrs:[1,"cal-cell","cal-day-cell"],hostVars:18,hostBindings:function(e,t){2&e&&f.Hb("cal-past",t.day.isPast)("cal-today",t.day.isToday)("cal-future",t.day.isFuture)("cal-weekend",t.day.isWeekend)("cal-in-month",t.day.inMonth)("cal-out-month",!t.day.inMonth)("cal-has-events",t.day.events.length>0)("cal-open",t.day===t.openDay)("cal-event-highlight",!!t.day.backgroundColor)},inputs:{day:"day",openDay:"openDay",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",customTemplate:"customTemplate",tooltipTemplate:"tooltipTemplate",tooltipDelay:"tooltipDelay"},outputs:{highlightDay:"highlightDay",unhighlightDay:"unhighlightDay",eventClicked:"eventClicked"},decls:3,vars:15,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-cell-top"],["aria-hidden","true"],["class","cal-day-badge",4,"ngIf"],[1,"cal-day-number"],["class","cal-events",4,"ngIf"],[1,"cal-day-badge"],[1,"cal-events"],["class","cal-event","mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngStyle","ngClass","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","cal-draggable","dropData","dragAxis","validateDrag","touchStartLongPress","mouseenter","mouseleave","mwlClick",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event",3,"ngStyle","ngClass","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","dropData","dragAxis","validateDrag","touchStartLongPress","mouseenter","mouseleave","mwlClick"]],template:function(e,t){if(1&e&&(f.Mc(0,fn,8,14,"ng-template",null,0,f.Nc),f.Mc(2,bn,0,0,"ng-template",1)),2&e){const e=f.Ac(1);f.Db(2),f.pc("ngTemplateOutlet",t.customTemplate||e)("ngTemplateOutletContext",f.yc(2,gn,[t.day,t.openDay,t.locale,t.tooltipPlacement,t.highlightDay,t.unhighlightDay,t.eventClicked,t.tooltipTemplate,t.tooltipAppendToBody,t.tooltipDelay,t.trackByEventId,t.validateDrag]))}},directives:[a.A,a.t,a.s,It,a.w,a.q,Tn,Yn],pipes:[qn,Nn,Xn],encapsulation:2}),e})();const ta=Object(Bt.p)("collapse",[Object(Bt.m)("void",Object(Bt.n)({height:0,overflow:"hidden","padding-top":0,"padding-bottom":0})),Object(Bt.m)("*",Object(Bt.n)({height:"*",overflow:"hidden","padding-top":"*","padding-bottom":"*"})),Object(Bt.o)("* => void",Object(Bt.e)("150ms ease-out")),Object(Bt.o)("void => *",Object(Bt.e)("150ms ease-in"))]);let na=(()=>{let e=class{constructor(){this.isOpen=!1,this.eventClicked=new f.n,this.trackByEventId=Wn,this.validateDrag=In}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=f.Kb({type:e,selectors:[["mwl-calendar-open-day-events"]],inputs:{isOpen:"isOpen",locale:"locale",events:"events",customTemplate:"customTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",date:"date"},outputs:{eventClicked:"eventClicked"},decls:3,vars:8,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-open-day-events","role","application",4,"ngIf"],["role","application",1,"cal-open-day-events"],["tabindex","-1","role","alert"],["tabindex","0","role","landmark"],["mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngClass","cal-draggable","dropData","dragAxis","validateDrag","touchStartLongPress",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngClass","dropData","dragAxis","validateDrag","touchStartLongPress"],[1,"cal-event",3,"ngStyle"],["view","month","tabindex","0",3,"event","customTemplate","mwlClick","mwlKeydownEnter"],[3,"event","customTemplate"]],template:function(e,t){if(1&e&&(f.Mc(0,On,1,1,"ng-template",null,0,f.Nc),f.Mc(2,kn,0,0,"ng-template",1)),2&e){const e=f.Ac(1);f.Db(2),f.pc("ngTemplateOutlet",t.customTemplate||e)("ngTemplateOutletContext",f.vc(2,Cn,t.events,t.eventClicked,t.isOpen,t.trackByEventId,t.validateDrag))}},directives:[a.A,a.t,a.s,It,a.q,a.w,En,Yn,$n,Sn],pipes:[qn],encapsulation:2,data:{animation:[ta]}}),e})(),aa=(()=>{let e=class{};return e.\u0275mod=f.Ob({type:e}),e.\u0275inj=f.Nb({factory:function(t){return new(t||e)},imports:[[a.c,zt,Gn],zt]}),e})(),oa=(()=>{let e=class{};return e.\u0275mod=f.Ob({type:e}),e.\u0275inj=f.Nb({factory:function(t){return new(t||e)},imports:[[a.c,Ft,zt,Gn],Ft,zt]}),e})(),ia=(()=>{let e=class{};return e.\u0275mod=f.Ob({type:e}),e.\u0275inj=f.Nb({factory:function(t){return new(t||e)},imports:[[a.c,Gn,oa]]}),e})();var ra;let ca=(()=>{let e=ra=class{static forRoot(e,t={}){return{ngModule:ra,providers:[e,t.eventTitleFormatter||Hn,t.dateFormatter||Bn,t.utils||_n,t.a11y||Qn]}}};return e.\u0275mod=f.Ob({type:e}),e.\u0275inj=f.Nb({factory:function(t){return new(t||e)},imports:[[Gn,aa,oa,ia],Gn,aa,oa,ia]}),e})();const la=f.Yb(Bn);var sa=n("ReVU");let ua=(()=>{class e{constructor(){this.locale="en",this.viewChange=new f.n,this.viewDateChange=new f.n,this.CalendarView=Ln}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=f.Kb({type:e,selectors:[["app-calendar-header"]],inputs:{view:"view",viewDate:"viewDate",locale:"locale"},outputs:{viewChange:"viewChange",viewDateChange:"viewDateChange"},decls:14,vars:10,consts:[[1,"row","text-center"],[1,"col-md-4"],[1,"btn-group"],["color","accent","mat-raised-button","","mwlCalendarPreviousView","",3,"view","viewDate","viewDateChange"],["mat-raised-button","","mwlCalendarToday","",3,"viewDate","viewDateChange"],["mat-raised-button","","color","accent","mwlCalendarNextView","",3,"view","viewDate","viewDateChange"]],template:function(e,t){1&e&&(f.Wb(0,"div",0),f.Wb(1,"div",1),f.Wb(2,"div",2),f.Wb(3,"button",3),f.ec("viewDateChange",(function(e){return t.viewDate=e}))("viewDateChange",(function(){return t.viewDateChange.next(t.viewDate)})),f.Oc(4," Anterior "),f.Vb(),f.Wb(5,"button",4),f.ec("viewDateChange",(function(e){return t.viewDate=e}))("viewDateChange",(function(){return t.viewDateChange.next(t.viewDate)})),f.Oc(6,"Hoy"),f.Vb(),f.Wb(7,"button",5),f.ec("viewDateChange",(function(e){return t.viewDate=e}))("viewDateChange",(function(){return t.viewDateChange.next(t.viewDate)})),f.Oc(8," Siguiente "),f.Vb(),f.Vb(),f.Vb(),f.Wb(9,"div",1),f.Wb(10,"h3"),f.Oc(11),f.jc(12,"date"),f.Vb(),f.Vb(),f.Vb(),f.Rb(13,"br")),2&e&&(f.Db(3),f.pc("view",t.view)("viewDate",t.viewDate),f.Db(2),f.pc("viewDate",t.viewDate),f.Db(2),f.pc("view",t.view)("viewDate",t.viewDate),f.Db(4),f.Pc(f.mc(12,6,t.viewDate,"dd MMMM yyyy","GMT")))},directives:[x.a,Pn,zn,jn],pipes:[a.f],encapsulation:2}),e})(),da=(()=>{class e{constructor(e,t){this.document=e,this._cookieService=t,this.darkThemeClass="dark-theme",this.refresh=new Me.a,this.activeDayIsOpen=!1,this.view=Ln.Month,this.events=[],this.viewDate=new Date}ngOnChanges(e){e.calendario&&e.calendario.currentValue&&e.calendario.currentValue.length>0&&(this.minDate=this.calendario[0].fecha,this.maxDate=this.calendario[this.calendario.length-1].fecha,this.events=this.calendario.map(e=>{const t=this.retornarComision(e),n=e.fecha.toString().split("T")[0];return{title:t.title,start:u(n).clone().toDate(),color:t.color,allDay:!0}}),this.refresh.next())}retornarComision(e){return e.comisionA?{title:"COMISION A",color:"rgb(0, 153, 255)"}:e.comisionB?{title:"COMISION B",color:"rgb(0, 255, 106)"}:e.comisionC?{title:"COMISION C",color:"rgb(187, 255, 0)"}:e.comisionD?{title:"COMISION D",color:"rgb(255, 208, 0)"}:e.comisionE?{title:"COMISION E",color:"rgb(255, 94, 0);"}:e.comisionF?{title:"COMISION F",color:"rgb(255, 0, 0);"}:e.comisionG?{title:"COMISION G",color:"rgb(255, 0, 128)"}:e.comisionH?{title:"COMISION H",color:"rgb(55, 0, 255)"}:void 0}ngOnInit(){const e=this._cookieService.check("configuracion")?this._cookieService.get("configuracion"):null;"theme-default"!==JSON.parse(e).colorTheme&&this.document.body.classList.add(this.darkThemeClass)}ngOnDestroy(){this.document.body.classList.remove(this.darkThemeClass)}dateIsValid(e){return e>=this.minDate&&e<=this.maxDate}dayClicked({date:e,events:t}){u(e).isSame(u(this.viewDate),"month")&&(this.activeDayIsOpen=!(u(e).isSame(u(this.viewDate),"day")&&!0===this.activeDayIsOpen||0===t.length),this.viewDate=e)}}return e.\u0275fac=function(t){return new(t||e)(f.Qb(a.e),f.Qb(sa.a))},e.\u0275cmp=f.Kb({type:e,selectors:[["app-calendario-datos"]],inputs:{calendario:"calendario"},features:[f.Bb],decls:3,vars:6,consts:[[3,"view","viewDate","viewChange","viewDateChange"],[1,"p-24","mat-card","mat-elevation-z4"],[3,"refresh","activeDayIsOpen","viewDate","events","dayClicked"]],template:function(e,t){1&e&&(f.Wb(0,"app-calendar-header",0),f.ec("viewChange",(function(e){return t.view=e}))("viewDateChange",(function(e){return t.viewDate=e})),f.Vb(),f.Wb(1,"div",1),f.Wb(2,"mwl-calendar-month-view",2),f.ec("dayClicked",(function(e){return t.dayClicked(e.day)})),f.Vb(),f.Vb()),2&e&&(f.pc("view",t.view)("viewDate",t.viewDate),f.Db(2),f.pc("refresh",t.refresh)("activeDayIsOpen",t.activeDayIsOpen)("viewDate",t.viewDate)("events",t.events))},directives:[ua,Jn],styles:['@charset "UTF-8";.cal-month-view .cal-header{text-align:center;font-weight:bolder}.cal-month-view .cal-header .cal-cell{padding:5px 0;overflow:hidden;text-overflow:ellipsis;display:block;white-space:nowrap}.cal-month-view .cal-days{border:1px solid;border-bottom:0}.cal-month-view .cal-cell-top{min-height:78px;flex:1}.cal-month-view .cal-cell-row{display:flex}.cal-month-view .cal-cell{float:left;flex:1;display:flex;flex-direction:column;align-items:stretch}.cal-month-view .cal-cell .cal-event{pointer-events:all!important}.cal-month-view .cal-day-cell{min-height:100px}@media (-ms-high-contrast:none){.cal-month-view .cal-day-cell{display:block}}.cal-month-view .cal-day-cell:not(:last-child){border-right:1px solid}.cal-month-view .cal-days .cal-cell-row{border-bottom:1px solid}.cal-month-view .cal-day-badge{margin-top:18px;margin-left:10px;display:inline-block;min-width:10px;padding:3px 7px;font-size:12px;font-weight:700;line-height:1;text-align:center;white-space:nowrap;vertical-align:middle;border-radius:10px}.cal-month-view .cal-day-number{font-size:1.2em;font-weight:400;opacity:.5;margin-top:15px;margin-right:15px;float:right;margin-bottom:10px}.cal-month-view .cal-events{flex:1;align-items:flex-end;margin:3px;line-height:10px;display:flex;flex-wrap:wrap}.cal-month-view .cal-event{width:10px;height:10px;border-radius:50%;display:inline-block;margin:2px}.cal-month-view .cal-day-cell.cal-in-month.cal-has-events{cursor:pointer}.cal-month-view .cal-day-cell.cal-out-month .cal-day-number{opacity:.1;cursor:default}.cal-month-view .cal-day-cell.cal-today .cal-day-number{font-size:1.9em}.cal-month-view .cal-open-day-events{padding:15px}.cal-month-view .cal-open-day-events .cal-event{position:relative;top:2px}.cal-month-view .cal-out-month .cal-day-badge,.cal-month-view .cal-out-month .cal-event{opacity:.3}.cal-month-view .cal-draggable{cursor:move}.cal-month-view .cal-drag-active *{pointer-events:none}.cal-month-view .cal-event-title{cursor:pointer}.cal-month-view .cal-event-title:hover{text-decoration:underline}.cal-month-view{background-color:#fff}.cal-month-view .cal-cell-row:hover{background-color:#fafafa}.cal-month-view .cal-cell-row .cal-cell:hover,.cal-month-view .cal-cell.cal-has-events.cal-open{background-color:#ededed}.cal-month-view .cal-days{border-color:#e1e1e1}.cal-month-view .cal-day-cell:not(:last-child){border-right-color:#e1e1e1}.cal-month-view .cal-days .cal-cell-row{border-bottom-color:#e1e1e1}.cal-month-view .cal-day-badge{background-color:#b94a48;color:#fff}.cal-month-view .cal-event{background-color:#1e90ff;border-color:#d1e8ff;color:#fff}.cal-month-view .cal-day-cell.cal-weekend .cal-day-number{color:#8b0000}.cal-month-view .cal-day-cell.cal-today{background-color:#e8fde7}.cal-month-view .cal-day-cell.cal-drag-over{background-color:#e0e0e0!important}.cal-month-view .cal-open-day-events{color:#fff;background-color:#555;box-shadow:inset 0 0 15px 0 rgba(0,0,0,.5)}.cal-week-view *{box-sizing:border-box}.cal-week-view .cal-day-headers{display:flex;padding-left:70px;border:1px solid}.cal-week-view .cal-day-headers .cal-header{flex:1;text-align:center;padding:5px}.cal-week-view .cal-day-headers .cal-header:not(:last-child){border-right:1px solid}.cal-week-view .cal-day-headers .cal-header:first-child{border-left:1px solid}.cal-week-view .cal-day-headers span{font-weight:400;opacity:.5}.cal-week-view .cal-day-column{flex-grow:1;border-left:1px solid}.cal-week-view .cal-event{font-size:12px;border:1px solid}.cal-week-view .cal-time-label-column{width:70px;height:100%}.cal-week-view .cal-current-time-marker{position:absolute;width:100%;height:2px;z-index:2}.cal-week-view .cal-all-day-events{border-left:1px solid;border-right:1px solid;border-top:0;border-bottom:3px solid;padding-top:3px;position:relative}.cal-week-view .cal-all-day-events .cal-day-columns{height:100%;width:100%;display:flex;position:absolute;top:0;z-index:0}.cal-week-view .cal-all-day-events .cal-events-row{position:relative;height:31px;margin-left:70px}.cal-week-view .cal-all-day-events .cal-event-container{display:inline-block;position:absolute}.cal-week-view .cal-all-day-events .cal-event-container.resize-active{z-index:1;pointer-events:none}.cal-week-view .cal-all-day-events .cal-event{padding:0 5px;margin-left:2px;margin-right:2px;height:28px;line-height:28px}.cal-week-view .cal-all-day-events .cal-starts-within-week .cal-event{border-top-left-radius:5px;border-bottom-left-radius:5px}.cal-week-view .cal-all-day-events .cal-ends-within-week .cal-event{border-top-right-radius:5px;border-bottom-right-radius:5px}.cal-week-view .cal-all-day-events .cal-time-label-column{display:flex;align-items:center;justify-content:center;font-size:14px}.cal-week-view .cal-all-day-events .cal-resize-handle{width:6px;height:100%;cursor:col-resize;position:absolute;top:0}.cal-week-view .cal-all-day-events .cal-resize-handle.cal-resize-handle-after-end{right:0}.cal-week-view .cal-event,.cal-week-view .cal-header{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.cal-week-view .cal-drag-active{pointer-events:none;z-index:1}.cal-week-view .cal-drag-active *{pointer-events:none}.cal-week-view .cal-time-events{position:relative;border:1px solid;border-top:0;display:flex}.cal-week-view .cal-time-events .cal-day-columns{display:flex;flex-grow:1}.cal-week-view .cal-time-events .cal-day-column,.cal-week-view .cal-time-events .cal-events-container{position:relative}.cal-week-view .cal-time-events .cal-event-container{position:absolute;z-index:1}.cal-week-view .cal-time-events .cal-event{width:calc(100% - 2px);height:calc(100% - 2px);margin:1px;padding:0 5px;line-height:25px}.cal-week-view .cal-time-events .cal-resize-handle{width:100%;height:4px;cursor:row-resize;position:absolute}.cal-week-view .cal-time-events .cal-resize-handle.cal-resize-handle-after-end{bottom:0}.cal-week-view .cal-hour-segment{position:relative}.cal-week-view .cal-hour-segment:after{content:"\xa0"}.cal-week-view .cal-event-container:not(.cal-draggable){cursor:pointer}.cal-week-view .cal-draggable{cursor:move}.cal-week-view .cal-hour-segment,.cal-week-view mwl-calendar-week-view-hour-segment{display:block}.cal-week-view .cal-hour:last-child :not(:last-child) .cal-hour-segment,.cal-week-view .cal-hour:not(:last-child) .cal-hour-segment{border-bottom:thin dashed}.cal-week-view .cal-time{font-weight:700;padding-top:5px;width:70px;text-align:center}.cal-week-view .cal-hour-segment.cal-after-hour-start .cal-time{display:none}.cal-week-view .cal-starts-within-day .cal-event{border-top-left-radius:5px;border-top-right-radius:5px}.cal-week-view .cal-ends-within-day .cal-event{border-bottom-left-radius:5px;border-bottom-right-radius:5px}.cal-week-view{background-color:#fff;border-top:1px solid #e1e1e1}.cal-week-view .cal-day-headers{border-color:#e1e1e1;border-top:0}.cal-week-view .cal-day-headers .cal-header:not(:last-child){border-right-color:#e1e1e1}.cal-week-view .cal-day-headers .cal-header:first-child{border-left-color:#e1e1e1}.cal-week-view .cal-day-headers .cal-drag-over,.cal-week-view .cal-day-headers .cal-header:hover{background-color:#ededed}.cal-week-view .cal-day-column{border-left-color:#e1e1e1}.cal-week-view .cal-event{background-color:#d1e8ff;border-color:#1e90ff;color:#1e90ff}.cal-week-view .cal-all-day-events{border-color:#e1e1e1}.cal-week-view .cal-header.cal-today{background-color:#e8fde7}.cal-week-view .cal-header.cal-weekend span{color:#8b0000}.cal-week-view .cal-time-events{border-color:#e1e1e1}.cal-week-view .cal-time-events .cal-day-columns:not(.cal-resize-active) .cal-hour-segment:hover{background-color:#ededed}.cal-week-view .cal-hour-odd{background-color:#fafafa}.cal-week-view .cal-drag-over .cal-hour-segment{background-color:#ededed}.cal-week-view .cal-hour:last-child :not(:last-child) .cal-hour-segment,.cal-week-view .cal-hour:not(:last-child) .cal-hour-segment{border-bottom-color:#e1e1e1}.cal-week-view .cal-current-time-marker{background-color:#ea4334}.cal-day-view mwl-calendar-week-view-header{display:none}.cal-day-view .cal-events-container{margin-left:70px}.cal-day-view .cal-day-column{border-left:0}.cal-day-view .cal-current-time-marker{margin-left:70px;width:calc(100% - 70px)}.cal-tooltip{position:absolute;z-index:1070;display:block;font-style:normal;font-weight:400;letter-spacing:normal;line-break:auto;line-height:1.5;text-align:start;text-decoration:none;text-shadow:none;text-transform:none;white-space:normal;word-break:normal;word-spacing:normal;font-size:11px;word-wrap:break-word;opacity:.9}.cal-tooltip.cal-tooltip-top{padding:5px 0;margin-top:-3px}.cal-tooltip.cal-tooltip-top .cal-tooltip-arrow{bottom:0;left:50%;margin-left:-5px;border-width:5px 5px 0}.cal-tooltip.cal-tooltip-right{padding:0 5px;margin-left:3px}.cal-tooltip.cal-tooltip-right .cal-tooltip-arrow{top:50%;left:0;margin-top:-5px;border-width:5px 5px 5px 0}.cal-tooltip.cal-tooltip-bottom{padding:5px 0;margin-top:3px}.cal-tooltip.cal-tooltip-bottom .cal-tooltip-arrow{top:0;left:50%;margin-left:-5px;border-width:0 5px 5px}.cal-tooltip.cal-tooltip-left{padding:0 5px;margin-left:-3px}.cal-tooltip.cal-tooltip-left .cal-tooltip-arrow{top:50%;right:0;margin-top:-5px;border-width:5px 0 5px 5px}.cal-tooltip-inner{max-width:200px;padding:3px 8px;text-align:center;border-radius:.25rem}.cal-tooltip-arrow{position:absolute;width:0;height:0;border-color:transparent;border-style:solid}.cal-tooltip.cal-tooltip-top .cal-tooltip-arrow{border-top-color:#000}.cal-tooltip.cal-tooltip-right .cal-tooltip-arrow{border-right-color:#000}.cal-tooltip.cal-tooltip-bottom .cal-tooltip-arrow{border-bottom-color:#000}.cal-tooltip.cal-tooltip-left .cal-tooltip-arrow{border-left-color:#000}.cal-tooltip-inner{color:#fff;background-color:#000}.dark-theme{color:#d5d6d7}.dark-theme,.dark-theme .cal-month-view{background-color:#1f262d}.dark-theme .cal-month-view .cal-cell-row:hover{background-color:#394046}.dark-theme .cal-month-view .cal-cell-row .cal-cell:hover,.dark-theme .cal-month-view .cal-cell.cal-has-events.cal-open{background-color:#2c343a}.dark-theme .cal-month-view .cal-days{border-color:rgba(0,0,0,.6)}.dark-theme .cal-month-view .cal-day-cell:not(:last-child){border-right-color:rgba(0,0,0,.6)}.dark-theme .cal-month-view .cal-days .cal-cell-row{border-bottom-color:rgba(0,0,0,.6)}.dark-theme .cal-month-view .cal-day-badge{background-color:#b94a48;color:#fff}.dark-theme .cal-month-view .cal-event{background-color:#394046;border-color:#d1e8ff;color:#fff}.dark-theme .cal-month-view .cal-day-cell.cal-weekend .cal-day-number{color:#cd5c5c}.dark-theme .cal-month-view .cal-day-cell.cal-today{background-color:#394046}.dark-theme .cal-month-view .cal-day-cell.cal-drag-over{background-color:#21272c!important}.dark-theme .cal-month-view .cal-open-day-events{color:#fff;background-color:#394046;box-shadow:inset 0 0 15px 0 rgba(0,0,0,.5)}.dark-theme .cal-week-view{background-color:#1f262d;border-top:1px solid rgba(0,0,0,.6)}.dark-theme .cal-week-view .cal-day-headers{border-color:rgba(0,0,0,.6);border-top:0}.dark-theme .cal-week-view .cal-day-headers .cal-header:not(:last-child){border-right-color:rgba(0,0,0,.6)}.dark-theme .cal-week-view .cal-day-headers .cal-header:first-child{border-left-color:rgba(0,0,0,.6)}.dark-theme .cal-week-view .cal-day-headers .cal-drag-over,.dark-theme .cal-week-view .cal-day-headers .cal-header:hover{background-color:#2c343a}.dark-theme .cal-week-view .cal-day-column{border-left-color:rgba(0,0,0,.6)}.dark-theme .cal-week-view .cal-event{background-color:#d1e8ff;border-color:#394046;color:#394046}.dark-theme .cal-week-view .cal-all-day-events{border-color:rgba(0,0,0,.6)}.dark-theme .cal-week-view .cal-header.cal-today{background-color:#394046}.dark-theme .cal-week-view .cal-header.cal-weekend span{color:#cd5c5c}.dark-theme .cal-week-view .cal-time-events{border-color:rgba(0,0,0,.6)}.dark-theme .cal-week-view .cal-time-events .cal-day-columns:not(.cal-resize-active) .cal-hour-segment:hover{background-color:#2c343a}.dark-theme .cal-week-view .cal-hour-odd{background-color:#394046}.dark-theme .cal-week-view .cal-drag-over .cal-hour-segment{background-color:#2c343a}.dark-theme .cal-week-view .cal-hour:last-child :not(:last-child) .cal-hour-segment,.dark-theme .cal-week-view .cal-hour:not(:last-child) .cal-hour-segment{border-bottom-color:rgba(0,0,0,.6)}.dark-theme .cal-week-view .cal-current-time-marker{background-color:#ea4334}.dark-theme .cal-tooltip.cal-tooltip-top .cal-tooltip-arrow{border-top-color:#000}.dark-theme .cal-tooltip.cal-tooltip-right .cal-tooltip-arrow{border-right-color:#000}.dark-theme .cal-tooltip.cal-tooltip-bottom .cal-tooltip-arrow{border-bottom-color:#000}.dark-theme .cal-tooltip.cal-tooltip-left .cal-tooltip-arrow{border-left-color:#000}.dark-theme .cal-tooltip-inner{color:#fff;background-color:#000}.dark-theme .cal-month-view .cal-day-cell.cal-out-month .cal-day-number{opacity:.15}.dark-theme .card{border-color:rgba(0,0,0,.6)}.dark-theme .card-header{background-color:#394046}.dark-theme .card-body{background-color:#1f262d}.dark-theme .nav-tabs{border-bottom-color:rgba(0,0,0,.6)}.dark-theme .nav-tabs .nav-link.active{background-color:#1f262d;color:#d5d6d7;border-color:rgba(0,0,0,.6)}.dark-theme .nav-tabs .nav-link:focus,.dark-theme .nav-tabs .nav-link:hover{border-color:rgba(0,0,0,.6)}'],encapsulation:2,changeDetection:0}),e})();var pa=n("/o1g");function ha(e,t){1&e&&f.Rb(0,"mat-spinner",11)}function ma(e,t){1&e&&(f.Wb(0,"mat-icon"),f.Oc(1,"add"),f.Vb())}function fa(e,t){1&e&&(f.Wb(0,"span"),f.Oc(1,"Crear Nuevo Calendario"),f.Vb())}function ba(e,t){1&e&&(f.Wb(0,"mat-icon"),f.Oc(1,"close"),f.Vb())}function ga(e,t){1&e&&(f.Wb(0,"span"),f.Oc(1,"Ocultar Formulario"),f.Vb())}function va(e,t){1&e&&(f.Wb(0,"mat-error"),f.Oc(1," Este campo es requerido. "),f.Vb())}function wa(e,t){1&e&&(f.Wb(0,"mat-error"),f.Oc(1," Este campo es requerido. "),f.Vb())}function ya(e,t){if(1&e){const e=f.Xb();f.Wb(0,"div",12),f.Wb(1,"h3"),f.Oc(2),f.Vb(),f.Wb(3,"form",13),f.Wb(4,"mat-form-field",14),f.Wb(5,"mat-label"),f.Oc(6,"Fecha de Inicio"),f.Vb(),f.Rb(7,"input",15),f.Rb(8,"mat-datepicker-toggle",16),f.Rb(9,"mat-datepicker",null,17),f.Mc(11,va,2,0,"mat-error",8),f.Vb(),f.Wb(12,"mat-form-field",14),f.Wb(13,"mat-label"),f.Oc(14,"Fecha de Fin"),f.Vb(),f.Rb(15,"input",18),f.Rb(16,"mat-datepicker-toggle",16),f.Rb(17,"mat-datepicker",null,19),f.Mc(19,wa,2,0,"mat-error",8),f.Vb(),f.Wb(20,"button",20),f.ec("click",(function(){return f.Ec(e),f.ic().crearCicloPrueba()})),f.Oc(21,"Crear"),f.Vb(),f.Vb(),f.Vb()}if(2&e){const e=f.Ac(10),t=f.Ac(18),n=f.ic();f.pc("@slideInOutFromTop",void 0),f.Db(2),f.Qc("Crear Calendario Academico ",n.cicloActual,""),f.Db(1),f.pc("formGroup",n.form),f.Db(4),f.pc("min",n.min)("max",n.max)("matDatepicker",e),f.Db(1),f.pc("for",e),f.Db(3),f.pc("ngIf",n.form.controls.fechaInicio.hasError("required")),f.Db(4),f.pc("min",n.min)("max",n.max)("matDatepicker",t),f.Db(1),f.pc("for",t),f.Db(3),f.pc("ngIf",n.form.controls.fechaFinalizacion.hasError("required")),f.Db(1),f.pc("disabled",n.form.invalid)}}const Da=function(){return{x:"50px"}},xa=function(e){return{value:"*",params:e}};let Oa=(()=>{let e=class{constructor(e,t,n,a){this._fb=e,this._calendarioService=t,this._cicloLectivoService=n,this._router=a,this.mostrarAgregar=!1,this.titulo="Calendario Academico"}ngOnInit(){this.form=this._fb.group({fechaInicio:[],fechaFinalizacion:[]});const e=(new Date).getFullYear(),t=new Date("1/1/"+e),n=new Date(e+"-12-31");this.min=t,this.max=n,this._cicloLectivoService.cicloLectivo$.pipe(Object(s.b)(this)).subscribe(e=>{this.cicloActual=e||u().year(),this.recuperarCalendarioPorCiclo(this.cicloActual)})}setParametrosBusqueda({cicloLectivo:e}){this._cicloLectivoService.setCicloLectivo(e)}recuperarCalendarioPorCiclo(e){this.cargando=!0,this._calendarioService.obtenerCalendarioPorCiclo(e).pipe(Object(s.b)(this)).subscribe(e=>{console.log("calendario por ciclo",e),this.cargando=!1,this.calendario=[...e]},e=>{this.cargando=!1,console.log("[ERROR]",e)})}crearCicloPrueba(){const{fechaInicio:e,fechaFinalizacion:t}=this.form.value;p.a.fire({title:"\xbfEst\xe1 seguro de continuar?",html:"Est\xe1 a punto de crear un nuevo calendario academico sobreescribiendo las fechas en caso de que existieran.",icon:"warning",focusConfirm:!1,showCancelButton:!0,confirmButtonColor:"#3085d6",confirmButtonText:"Si, estoy seguro",cancelButtonText:"Cancelar",showLoaderOnConfirm:!0,preConfirm:()=>this._calendarioService.crearCalendario(e,t).pipe(Object(De.a)(e=>(console.log("[ERROR]",e),p.a.fire({title:"Oops! Ocurri\xf3 un error",text:e&&e.error?e.error.message:"Error de conexion",icon:"error"}),Object(ye.a)(e))),Object(s.b)(this)),allowOutsideClick:()=>!p.a.isLoading()}).then(e=>{e.isConfirmed&&(e.value&&e.value.success?(p.a.fire({title:"Operaci\xf3n Exitosa",text:"El seguimiento ha sido actualizado correctamente.",icon:"success"}),this.calendario=[...e.value.calendarioNuevo]):p.a.fire({title:"Oops! Ocurri\xf3 un error",text:"Intentelo nuevamente. Si el problema persiste comuniquese con el soporte t\xe9cnico.",icon:"error"}))})}toggleCalendario(){this.mostrarAgregar=!this.mostrarAgregar}};return e.\u0275fac=function(t){return new(t||e)(f.Qb(Y.c),f.Qb(ke),f.Qb(H.a),f.Qb(r.g))},e.\u0275cmp=f.Kb({type:e,selectors:[["app-calendario-academico"]],decls:16,vars:13,consts:[["fxLayout","column","fxLayoutGap","20px",1,"w-100-p","p-24","mt-50"],["fxLayout","column",1,"mat-card","mat-elevation-z4","p-24"],["fxLayout","","fxLayoutAlign","start center",1,"w-100-p","mb-12",2,"border-bottom","2px solid #80808057"],[1,"px-12"],["matSuffix","","class","ml-10","diameter","20",4,"ngIf"],["fxLayout.xs","column","fxLayout.gt-xs","row wrap","fxLayoutAlign","space-between baseline","fxLayoutGap.xs","20px"],["fxFlex.gt-xs","40","fxFlex.xs","100",1,"w-100-p",3,"cicloLectivo","retParametrosBusqueda"],["mat-raised-button","","fxFlex.gt-xs","40","fxFlex.xs","100","color","accent",1,"w-100-p",3,"click"],[4,"ngIf"],["class","mat-card mat-elevation-z4 p-12","fxLayout","column",4,"ngIf"],[3,"calendario"],["matSuffix","","diameter","20",1,"ml-10"],["fxLayout","column",1,"mat-card","mat-elevation-z4","p-12"],["fxLayout","row wrap","fxLayoutAlign","start baseline","fxLayoutGap","10px",3,"formGroup"],["appearance","outline","fxFlex.gt-xs","35","fxFlex.xs","100"],["autocomplete","off","matInput","","formControlName","fechaInicio",3,"min","max","matDatepicker"],["matSuffix","",3,"for"],["picker",""],["autocomplete","off","matInput","","formControlName","fechaFinalizacion",3,"min","max","matDatepicker"],["pickerFinal",""],["mat-raised-button","","color","accent",3,"disabled","click"]],template:function(e,t){1&e&&(f.Rb(0,"button-volver"),f.Wb(1,"div",0),f.Wb(2,"div",1),f.Wb(3,"div",2),f.Wb(4,"h1",3),f.Oc(5),f.Vb(),f.Mc(6,ha,1,0,"mat-spinner",4),f.Vb(),f.Wb(7,"div",5),f.Wb(8,"app-form-ciclo-lectivo",6),f.ec("retParametrosBusqueda",(function(e){return t.setParametrosBusqueda(e)})),f.Vb(),f.Wb(9,"button",7),f.ec("click",(function(){return t.toggleCalendario()})),f.Mc(10,ma,2,0,"mat-icon",8),f.Mc(11,fa,2,0,"span",8),f.Mc(12,ba,2,0,"mat-icon",8),f.Mc(13,ga,2,0,"span",8),f.Vb(),f.Vb(),f.Vb(),f.Mc(14,ya,22,14,"div",9),f.Rb(15,"app-calendario-datos",10),f.Vb()),2&e&&(f.Db(4),f.pc("@animate",f.rc(11,xa,f.qc(10,Da))),f.Db(1),f.Pc(t.titulo),f.Db(1),f.pc("ngIf",t.cargando),f.Db(2),f.pc("cicloLectivo",t.cicloActual),f.Db(2),f.pc("ngIf",!t.mostrarAgregar),f.Db(1),f.pc("ngIf",!t.mostrarAgregar),f.Db(1),f.pc("ngIf",t.mostrarAgregar),f.Db(1),f.pc("ngIf",t.mostrarAgregar),f.Db(1),f.pc("ngIf",t.mostrarAgregar),f.Db(1),f.pc("calendario",t.calendario))},directives:[Ce.a,b.d,b.e,b.c,a.t,Se.a,b.b,x.a,da,me.b,g.g,w.a,Y.v,Y.o,Y.g,g.b,g.f,v.b,Y.b,pa.b,Y.n,Y.f,pa.d,pa.a,g.a],encapsulation:2,data:{animation:[l.a]}}),e=Object(c.a)([Object(s.a)()],e),e})();var ka=n("s7jW"),Ca=n("6uN0"),Sa=n("EU09"),Ea=n("Vr5k");function Aa(e,t){1&e&&f.Rb(0,"mat-spinner",15)}function Ta(e,t){1&e&&f.Rb(0,"mat-progress-bar",16)}const Ma=function(){return{x:"50px"}},La=function(e){return{value:"*",params:e}};let Wa=(()=>{let e=class{constructor(e,t,n,a,o){this._comisionService=e,this._alumnoService=t,this._asignaturaService=n,this._profesorService=a,this._planillaTallerService=o,this.titulo="Migrar Datos",this.cargando=!1}ngOnInit(){}migrarComisiones(){}listarAlumnos(){this.cargando=!0,this._alumnoService.obtenerAlumnos().pipe(Object(s.b)(this)).subscribe(e=>{this.resultado=e,this.cargando=!1},e=>{this.cargando=!1,console.log("[ERROR]",e)})}eliminarAlumnos(){this.cargando=!0,this._alumnoService.eliminarColeccion().pipe(Object(s.b)(this)).subscribe(e=>{this.resultado=e,this.cargando=!1},e=>{this.cargando=!1,console.log("[ERROR]",e)})}migrarAlumnos(){this.cargando=!0,this._alumnoService.migrar().pipe(Object(s.b)(this)).subscribe(e=>{this.resultado=e,this.cargando=!1},e=>{this.cargando=!1,console.log("[ERROR]",e)})}migrarProfesores(){}migrarAsignaturas(){}migrarPlantillaTaller(){}migrarTemas(){}migrarSeguimiento(){}migrarAsistencia(){}migrarCalificaciones(){}migrarCalendario(){}};return e.\u0275fac=function(t){return new(t||e)(f.Qb(ka.a),f.Qb(X.a),f.Qb(Ca.a),f.Qb(Sa.a),f.Qb(Ea.a))},e.\u0275cmp=f.Kb({type:e,selectors:[["app-migrar"]],decls:26,vars:10,consts:[["fxLayout","column",1,"w-100-p"],["fxLayout","column","fxLayoutGap","20px",1,"w-100-p","p-24"],["fxLayout","column",1,"mat-card","mat-elevation-z4","p-24"],["fxLayout","","fxLayoutAlign","start center",1,"w-100-p","mb-12",2,"border-bottom","2px solid #80808057"],[1,"px-12"],["matSuffix","","class","ml-10","diameter","20",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between baseline"],["fxLayout","","fxLayoutAlign","end center","fxFlex","25"],["fxLayout","row","fxLayoutAlign","space-between start"],["fxFlex","30","fxLayout","column","fxLayoutGap","10px",1,"mat-card","mat-elevation-z4","p-12"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","accent",3,"click"],["mat-raised-button","","color","warn",3,"click"],["fxFlex","65",1,"mat-card","mat-elevation-z4","p-12"],["mode","inderminate",4,"ngIf"],["matSuffix","","diameter","20",1,"ml-10"],["mode","inderminate"]],template:function(e,t){1&e&&(f.Wb(0,"div",0),f.Wb(1,"div",1),f.Wb(2,"div",2),f.Wb(3,"div",3),f.Wb(4,"h1",4),f.Oc(5),f.Vb(),f.Mc(6,Aa,1,0,"mat-spinner",5),f.Vb(),f.Wb(7,"div",6),f.Rb(8,"div",7),f.Vb(),f.Vb(),f.Wb(9,"div",8),f.Wb(10,"div",9),f.Wb(11,"h2"),f.Oc(12,"ALUMNOS"),f.Vb(),f.Wb(13,"button",10),f.ec("click",(function(){return t.migrarAlumnos()})),f.Oc(14,"MIGRAR"),f.Vb(),f.Wb(15,"button",11),f.ec("click",(function(){return t.listarAlumnos()})),f.Oc(16,"LISTAR"),f.Vb(),f.Wb(17,"button",12),f.ec("click",(function(){return t.eliminarAlumnos()})),f.Oc(18,"BORRAR"),f.Vb(),f.Vb(),f.Wb(19,"div",13),f.Wb(20,"h2"),f.Oc(21,"Resultado"),f.Vb(),f.Mc(22,Ta,1,0,"mat-progress-bar",14),f.Wb(23,"pre"),f.Oc(24),f.jc(25,"json"),f.Vb(),f.Vb(),f.Vb(),f.Vb(),f.Vb()),2&e&&(f.Db(4),f.pc("@animate",f.rc(8,La,f.qc(7,Ma))),f.Db(1),f.Pc(t.titulo),f.Db(1),f.pc("ngIf",t.cargando),f.Db(16),f.pc("ngIf",t.cargando),f.Db(2),f.Qc("              ",f.kc(25,5,t.resultado),"\n          "))},directives:[b.d,b.e,b.c,a.t,b.b,x.a,me.b,g.g,q.a],pipes:[a.k],styles:[""],data:{animation:[l.a]}}),e=Object(c.a)([Object(s.a)()],e),e})(),Ra=(()=>{class e{constructor(e){this.http=e,this.url=xe.a.apiURI}register(e){return this.http.post(this.url+"usuarios/register",e)}delete(e){return this.http.delete(this.url+"usuarios/"+e)}cambiarRol(e,t){return this.http.post(this.url+"usuarios/change-role/"+e,{rol:t})}obtenerUsuarioConRoles(){return this.http.get(this.url+"usuarios")}}return e.\u0275fac=function(t){return new(t||e)(f.ac(Oe.a))},e.\u0275prov=f.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Va=n("sjd8"),Ia=n("1OTw");const Pa=["sort"],ja=["paginator"],za=function(){return{delay:"50ms",scale:"0.2"}},Fa=function(e){return{value:"*",params:e}};function Ba(e,t){if(1&e){const e=f.Xb();f.Wb(0,"div",18),f.Wb(1,"mat-form-field",19),f.Wb(2,"mat-label"),f.Oc(3,"B\xfasqueda R\xe1pida"),f.Vb(),f.Wb(4,"input",20),f.ec("keyup",(function(t){return f.Ec(e),f.ic().filtroRapido(t.target.value)})),f.Vb(),f.Wb(5,"mat-icon",21),f.Oc(6,"search"),f.Vb(),f.Vb(),f.Vb()}if(2&e){const e=f.ic();f.pc("@animate",f.rc(3,Fa,f.qc(2,za))),f.Db(4),f.pc("disabled",0==e.dataSource.data.length)}}function Na(e,t){1&e&&(f.Wb(0,"th",22),f.Oc(1,"Nombre"),f.Vb())}const Ha=function(e){return{row_seleccionada:e}};function Xa(e,t){if(1&e&&(f.Wb(0,"td",23),f.Wb(1,"span",24),f.Oc(2),f.Vb(),f.Vb()),2&e){const e=t.$implicit;f.Db(1),f.pc("ngClass",f.rc(3,Ha,e.selected)),f.Db(1),f.Rc(" ",e.apellido,", ",e.nombre," ")}}function Ya(e,t){1&e&&(f.Wb(0,"th",22),f.Oc(1,"Email"),f.Vb())}function $a(e,t){if(1&e&&(f.Wb(0,"td",23),f.Wb(1,"span"),f.Oc(2),f.Vb(),f.Vb()),2&e){const e=t.$implicit;f.Db(2),f.Pc(e.email)}}function _a(e,t){1&e&&(f.Wb(0,"th",22),f.Oc(1,"Nombre"),f.Vb())}function Qa(e,t){if(1&e&&(f.Wb(0,"td",23),f.Wb(1,"span"),f.Oc(2),f.Vb(),f.Vb()),2&e){const e=t.$implicit;f.Db(2),f.Pc(e.nombre)}}function qa(e,t){1&e&&(f.Wb(0,"th",22),f.Oc(1,"Apellido"),f.Vb())}function Ua(e,t){if(1&e&&(f.Wb(0,"td",23),f.Wb(1,"span"),f.Oc(2),f.Vb(),f.Vb()),2&e){const e=t.$implicit;f.Db(2),f.Pc(e.apellido)}}function Ka(e,t){1&e&&(f.Wb(0,"th",22),f.Oc(1,"Rol"),f.Vb())}function Ga(e,t){if(1&e&&(f.Wb(0,"td",23),f.Wb(1,"span",25),f.Oc(2),f.Vb(),f.Vb()),2&e){const e=t.$implicit;f.Db(2),f.Pc(e.rol)}}function Ja(e,t){1&e&&(f.Wb(0,"th",22),f.Oc(1,"Creado"),f.Vb())}function Za(e,t){if(1&e&&(f.Wb(0,"td",23),f.Wb(1,"span"),f.Oc(2),f.jc(3,"date"),f.Vb(),f.Vb()),2&e){const e=t.$implicit;f.Db(2),f.Pc(f.mc(3,1,e.fechaCreacion,"dd/MM/yyyy","GMT"))}}function eo(e,t){1&e&&f.Rb(0,"th",22)}function to(e,t){if(1&e){const e=f.Xb();f.Wb(0,"td",23),f.Wb(1,"button",26),f.Wb(2,"mat-icon"),f.Oc(3,"more_vert"),f.Vb(),f.Vb(),f.Wb(4,"mat-menu",null,27),f.Wb(6,"button",28),f.ec("click",(function(){f.Ec(e);const n=t.$implicit;return f.ic().actualizarRol(n,"PROFESOR")})),f.Oc(7,"Profesor"),f.Vb(),f.Wb(8,"button",28),f.ec("click",(function(){f.Ec(e);const n=t.$implicit;return f.ic().actualizarRol(n,"ADMIN")})),f.Oc(9,"Admin"),f.Vb(),f.Wb(10,"button",28),f.ec("click",(function(){f.Ec(e);const n=t.$implicit;return f.ic().actualizarRol(n,"DIRECTOR")})),f.Oc(11,"Director"),f.Vb(),f.Wb(12,"button",28),f.ec("click",(function(){f.Ec(e);const n=t.$implicit;return f.ic().actualizarRol(n,"JEFETALLER")})),f.Oc(13,"Jefe de Taller"),f.Vb(),f.Wb(14,"button",28),f.ec("click",(function(){f.Ec(e);const n=t.$implicit;return f.ic().actualizarRol(n,"PRECEPTOR")})),f.Oc(15,"Preceptor"),f.Vb(),f.Vb(),f.Vb()}if(2&e){const e=f.Ac(5);f.Db(1),f.pc("matMenuTriggerFor",e)}}function no(e,t){1&e&&f.Rb(0,"tr",29)}const ao=function(e,t){return{hovered:e,highlighted:t}};function oo(e,t){if(1&e){const e=f.Xb();f.Wb(0,"tr",30),f.ec("mouseover",(function(){f.Ec(e);const n=t.$implicit,a=f.ic();return n.hovered=!a.isMobile}))("mouseout",(function(){return t.$implicit.hovered=!1})),f.Vb()}if(2&e){const e=t.$implicit;f.Hb("selected",e.selected),f.pc("ngClass",f.sc(3,ao,e.hovered,e.highlighted))}}function io(e,t){1&e&&f.Rb(0,"app-empty-data")}const ro=function(){return[5,10,25,100]};let co=(()=>{class e{constructor(e,t,n){this._changeDetectorRef=e,this._media=t,this.breakpointObserver=n,this.retCambiarRol=new f.n,this.dataSource=new h.k([]),this.columnas=["email","nombre","apellido","rol","observacion","fechaCreacion","opciones"],this.mobileQuery=this._media.matchMedia("(max-width: 600px)"),this._mobileQueryListener=()=>this._changeDetectorRef.detectChanges(),this.breakpointObserver.observe([Va.b.Small,Va.b.HandsetPortrait]).subscribe(e=>{e.matches?(this.isMobile=!0,this.columnas=["nombreCompleto","rol","opciones"]):(this.isMobile=!1,this.columnas=["email","nombre","apellido","rol","fechaCreacion","opciones"])})}set setSort(e){this.dataSource.sort=e}set setPaginator(e){this.dataSource.paginator=e}ngOnChanges(e){e.usuarios&&e.usuarios.currentValue&&(console.log("usuarios",this.usuarios),this.dataSource.data=this.usuarios)}ngOnInit(){}filtroRapido(e){this.dataSource.filter=e.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}actualizarRol(e,t){e.rol=t,this.retCambiarRol.emit(e)}}return e.\u0275fac=function(t){return new(t||e)(f.Qb(f.h),f.Qb(Va.c),f.Qb(Va.a))},e.\u0275cmp=f.Kb({type:e,selectors:[["app-usuarios-tabla"]],viewQuery:function(e,t){var n;1&e&&(f.Tc(Pa,!0),f.Tc(ja,!0)),2&e&&(f.zc(n=f.fc())&&(t.setSort=n.first),f.zc(n=f.fc())&&(t.setPaginator=n.first))},inputs:{usuarios:"usuarios",cargando:"cargando"},outputs:{retCambiarRol:"retCambiarRol"},features:[f.Bb],decls:30,vars:14,consts:[["fxLayout","column"],["class","mt-20 p-0","fxLayoutAlign","center baseline","fxLayout","row",4,"ngIf"],["mat-table","","matSort","",1,"borde-tabla","mat-elevation-z4","w-100-p",3,"dataSource"],["sort","matSort"],["matColumnDef","nombreCompleto"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","email"],["matColumnDef","nombre"],["matColumnDef","apellido"],["matColumnDef","rol"],["matColumnDef","fechaCreacion"],["matColumnDef","opciones"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"selected","ngClass","mouseover","mouseout",4,"matRowDef","matRowDefColumns"],[4,"ngIf"],[1,"border-paginador","paginator","mat-elevation-z2",3,"pageSize","pageSizeOptions"],["paginator",""],["fxLayoutAlign","center baseline","fxLayout","row",1,"mt-20","p-0"],["appearance","outline","color","accent","fxFlex.xs","100","fxFlex.gt-xs","45"],["matInput","","users","",3,"disabled","keyup"],["matSuffix",""],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[3,"ngClass"],[1,"nav-link-badge","text-center","rol"],["mat-flat-button","",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],["mat-header-row",""],["mat-row","",3,"ngClass","mouseover","mouseout"]],template:function(e,t){1&e&&(f.Wb(0,"div",0),f.Mc(1,Ba,7,5,"div",1),f.Wb(2,"table",2,3),f.Ub(4,4),f.Mc(5,Na,2,0,"th",5),f.Mc(6,Xa,3,5,"td",6),f.Tb(),f.Ub(7,7),f.Mc(8,Ya,2,0,"th",5),f.Mc(9,$a,3,1,"td",6),f.Tb(),f.Ub(10,8),f.Mc(11,_a,2,0,"th",5),f.Mc(12,Qa,3,1,"td",6),f.Tb(),f.Ub(13,9),f.Mc(14,qa,2,0,"th",5),f.Mc(15,Ua,3,1,"td",6),f.Tb(),f.Ub(16,10),f.Mc(17,Ka,2,0,"th",5),f.Mc(18,Ga,3,1,"td",6),f.Tb(),f.Ub(19,11),f.Mc(20,Ja,2,0,"th",5),f.Mc(21,Za,4,5,"td",6),f.Tb(),f.Ub(22,12),f.Mc(23,eo,1,0,"th",5),f.Mc(24,to,16,1,"td",6),f.Tb(),f.Mc(25,no,1,0,"tr",13),f.Mc(26,oo,1,6,"tr",14),f.Vb(),f.Mc(27,io,1,0,"app-empty-data",15),f.Rb(28,"mat-paginator",16,17),f.Vb()),2&e&&(f.Hb("p-12",!t.isMobile)("p-4",t.isMobile),f.Db(1),f.pc("ngIf",t.usuarios&&t.usuarios.length>0),f.Db(1),f.Hb("mt-20",!t.usuarios||t.usuarios.length<1),f.pc("dataSource",t.dataSource),f.Db(23),f.pc("matHeaderRowDef",t.columnas),f.Db(1),f.pc("matRowDefColumns",t.columnas),f.Db(1),f.pc("ngIf",!t.usuarios||t.usuarios.length<1),f.Db(1),f.pc("pageSize",5)("pageSizeOptions",f.qc(13,ro)))},directives:[b.d,a.t,h.j,y.a,h.c,h.e,h.b,h.g,h.i,D.a,b.c,g.b,b.b,g.f,v.b,w.a,g.g,h.d,y.b,h.a,a.q,O.a,x.a,Ia.c,Ia.d,Ia.a,h.f,h.h,k.a],pipes:[a.f],styles:[".rol[_ngcontent-%COMP%]{background:linear-gradient(-135deg,#79a569,#2c8a31);color:#fff;min-width:100px!important}"],data:{animation:[l.a]}}),e})();function lo(e,t){1&e&&f.Rb(0,"mat-spinner",7)}const so=function(){return{x:"50px"}},uo=function(e){return{value:"*",params:e}},po=[{path:"migrar",component:Wa},{path:"ciclo-lectivo",component:we},{path:"calendario-academico",component:Oa},{path:"usuarios-roles",component:(()=>{let e=class{constructor(e){this._usuarioService=e,this.titulo="Administrar Roles",this.cargando=!1}ngOnInit(){this.cargarUsuarios()}cargarUsuarios(){this.cargando=!0,this._usuarioService.obtenerUsuarioConRoles().pipe(Object(s.b)(this)).subscribe(e=>{this.usuarios=e,this.cargando=!1},e=>{this.cargando=!1,console.log("[ERROR]",e)})}setCambiarRol(e){p.a.fire({title:"\xbfEst\xe1 seguro de continuar?",html:"Est\xe1 a punto de cambiar el rol al usuario",icon:"warning",focusConfirm:!1,showCancelButton:!0,confirmButtonColor:"#3085d6",confirmButtonText:"Si, estoy seguro",cancelButtonText:"Cancelar",showLoaderOnConfirm:!0,preConfirm:()=>this._usuarioService.cambiarRol(e._id,e.rol).pipe(Object(De.a)(e=>(console.log("[ERROR]",e),p.a.fire({title:"Oops! Ocurri\xf3 un error",text:e&&e.error?e.error.message:"Error de conexion",icon:"error"}),Object(ye.a)(e)))),allowOutsideClick:()=>!p.a.isLoading()}).then(e=>{e.isConfirmed&&p.a.fire(e.value&&200===e.value.status?{title:"Operaci\xf3n Exitosa",text:"El usuario ha sido actualizado con un nuevo rol.",icon:"success"}:{title:"Oops! Ocurri\xf3 un error",text:"Intentelo nuevamente. Si el problema persiste comuniquese con el soporte t\xe9cnico.",icon:"error"})})}};return e.\u0275fac=function(t){return new(t||e)(f.Qb(Ra))},e.\u0275cmp=f.Kb({type:e,selectors:[["app-roles"]],decls:10,vars:7,consts:[["fxLayout","column","fxLayoutGap","20px",1,"w-100-p","p-24","mt-50"],["fxLayout","column",1,"mat-card","mat-elevation-z4","p-24"],["fxLayout","row wrap","fxLayoutAlign","space-between center",1,"w-100-p","mb-12",2,"border-bottom","2px solid #80808057"],[1,"px-12"],["matSuffix","","class","ml-10","diameter","20",4,"ngIf"],["fxLayout","row","fxLayoutAlign","center start",1,"w-100-p"],["fxFlex","100",3,"usuarios","retCambiarRol"],["matSuffix","","diameter","20",1,"ml-10"]],template:function(e,t){1&e&&(f.Rb(0,"button-volver"),f.Wb(1,"div",0),f.Wb(2,"div",1),f.Wb(3,"div",2),f.Wb(4,"div"),f.Wb(5,"h1",3),f.Oc(6),f.Vb(),f.Mc(7,lo,1,0,"mat-spinner",4),f.Vb(),f.Vb(),f.Vb(),f.Wb(8,"div",5),f.Wb(9,"app-usuarios-tabla",6),f.ec("retCambiarRol",(function(e){return t.setCambiarRol(e)})),f.Vb(),f.Vb(),f.Vb()),2&e&&(f.Db(5),f.pc("@animate",f.rc(5,uo,f.qc(4,so))),f.Db(1),f.Pc(t.titulo),f.Db(1),f.pc("ngIf",t.cargando),f.Db(2),f.pc("usuarios",t.usuarios))},directives:[Ce.a,b.d,b.e,b.c,a.t,co,b.b,me.b,g.g],encapsulation:2,data:{animation:[l.a]}}),e=Object(c.a)([Object(s.a)()],e),e})()}];let ho=(()=>{class e{}return e.\u0275mod=f.Ob({type:e}),e.\u0275inj=f.Nb({factory:function(t){return new(t||e)},imports:[[r.k.forChild(po)],r.k]}),e})();function mo(){return Ee(Ee({},function(e){return{addDays:function(t,n){return e(t).add(n,"days").toDate()},addHours:function(t,n){return e(t).add(n,"hours").toDate()},addMinutes:function(t,n){return e(t).add(n,"minutes").toDate()},addSeconds:function(t,n){return e(t).add(n,"seconds").toDate()},differenceInDays:function(t,n){return e(t).diff(e(n),"days")},differenceInMinutes:function(t,n){return e(t).diff(e(n),"minutes")},differenceInSeconds:function(t,n){return e(t).diff(e(n),"seconds")},endOfDay:function(t){return e(t).endOf("day").toDate()},endOfMonth:function(t){return e(t).endOf("month").toDate()},endOfWeek:function(t){return e(t).endOf("week").toDate()},getDay:function(t){return e(t).day()},getMonth:function(t){return e(t).month()},isSameDay:function(t,n){return e(t).isSame(e(n),"day")},isSameMonth:function(t,n){return e(t).isSame(e(n),"month")},isSameSecond:function(t,n){return e(t).isSame(e(n),"second")},max:function(t){return e.max(t.map((function(t){return e(t)}))).toDate()},setHours:function(t,n){return e(t).set("hours",n).toDate()},setMinutes:function(t,n){return e(t).set("minutes",n).toDate()},startOfDay:function(t){return e(t).startOf("day").toDate()},startOfMinute:function(t){return e(t).startOf("minute").toDate()},startOfMonth:function(t){return e(t).startOf("month").toDate()},startOfWeek:function(t){return e(t).startOf("week").toDate()},getHours:function(t){return e(t).get("hours")},getMinutes:function(t){return e(t).get("minutes")}}}(e=u)),{addWeeks:function(t,n){return e(t).add(n,"weeks").toDate()},addMonths:function(t,n){return e(t).add(n,"months").toDate()},subDays:function(t,n){return e(t).subtract(n,"days").toDate()},subWeeks:function(t,n){return e(t).subtract(n,"weeks").toDate()},subMonths:function(t,n){return e(t).subtract(n,"months").toDate()},getISOWeek:function(t){return e(t).isoWeek()},setDate:function(t,n){return e(t).date(n).toDate()},setMonth:function(t,n){return e(t).month(n).toDate()},setYear:function(t,n){return e(t).year(n).toDate()},getDate:function(t){return e(t).date()},getYear:function(t){return e(t).year()}});var e}let fo=(()=>{class e{}return e.\u0275mod=f.Ob({type:e}),e.\u0275inj=f.Nb({factory:function(t){return new(t||e)},imports:[[a.c,ho,i.a,o.a,ca.forRoot({provide:Mn,useFactory:mo})]]}),e})()},jUic:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("tk/3"),o=n("AytR"),i=n("2Vo4"),r=n("UXun"),c=n("fXoL");let l=(()=>{class e{constructor(e){this.http=e,this.fichaAlumnoSubject=new i.a(null),this.fichaAlumno$=this.fichaAlumnoSubject.asObservable().pipe(Object(r.a)(1)),this.url=o.a.apiURI}setFichaAlumnoConsulta({cicloLectivo:e,curso:t,division:n}){this.fichaAlumnoSubject.next({cicloLectivo:e,curso:t,division:n})}migrar(){return this.http.get(this.url+"alumnos/migrar")}findAlumnos(e="",t="asc",n=0,o=3){return this.http.get("alumnos/paginado2",{params:(new a.c).set("filter",e).set("sortOrder",t).set("pageNumber",n.toString()).set("pageSize",o.toString())})}obtenerAlumnosPaginados(e){let t="alumnos/paginado";return e&&(console.log("consulta.page",e.page),e.page||e.page>0?(console.log("OK"),t+="?page="+(e.page+1)):(console.log("NOOOO"),t+="?page=1"),e.limit&&(t+="&limit="+e.limit),e.ordenBy&&(t+="&sort="+JSON.stringify(e.ordenBy)),e.query&&(t+="&query="+JSON.stringify(e.query))),this.http.get(this.url+t)}obtenerAlumnoPorId(e){return this.http.get(this.url+"alumnos/"+e)}agregarAlumno(e){return this.http.put(this.url+"alumnos",e)}actualizarAlumno(e,t){return this.http.patch(this.url+"alumnos/"+e,t)}eliminarAlumno(e){return this.http.delete(this.url+"alumnos/"+e)}deshabilitarAlumno(e,t){return this.http.put(this.url+"alumnos/estado/"+e,{activo:t})}obtenerFichaAlumnos(e,t,n){return this.http.post(this.url+"alumnos/ficha",{cicloLectivo:e,curso:n,division:t})}eliminarColeccion(){return this.http.get(this.url+"alumnos/eliminar-coleccion")}obtenerAlumnos(){return this.http.get(this.url+"alumnos/todos")}obtenerAlumnosPorCurso(e,t,n){return this.http.post(this.url+"alumnos/por-curso",{curso:e,division:t,comision:n})}obtenerAlumnosPorCursoCiclo(e,t,n,a){return this.http.post(this.url+"alumnos/por-curso-ciclo",{curso:e,division:t,comision:n,ciclo:a})}obtenerAlumnosPorCursoDivisionCiclo(e,t,n){return this.http.post(this.url+"alumnos/por-curso-division-ciclo",{curso:e,division:t,ciclo:n})}obtenerAlumnosPorCursoEspecifico(e,t,n,a){return this.http.post(this.url+"alumnos/por-curso-especifico",{curso:e,comision:t,division:n,cicloLectivo:a})}obtenerAlumnosPorCursoDivisionesCiclo(e,t,n){return this.http.post(this.url+"alumnos/por-curso-divisiones-ciclo",{curso:e,divisiones:t,cicloLectivo:n})}actualizarAlNuevoCiclo(e,t,n,a){return this.http.post(this.url+"alumnos",{curso:e,divisiones:t,cicloAnterior:n,ciclo:a})}disponibleLegajo(e){return this.http.get(this.url+"alumnos/disponible-legajo/"+e)}guardarMasivo(e){return this.http.put(this.url+"alumnos/guardar-masivo",e)}informarAusencia(e,t,n,a,o,i){return this.http.post(this.url+"alumnos/informar-ausencia",{nombreAdulto:e,fechaInasitencia:t,faltas:n,nombreAlumno:a,emailAdulto:o,observacion:i})}obtenerAlumnosAsignatura(e){return this.http.post(this.url+"alumnos/por-asignatura",e)}informeAlumnosPorPlanilla(e){return this.http.get(this.url+"alumnos/informe-por-planilla/"+e._id)}}return e.\u0275fac=function(t){return new(t||e)(c.ac(a.a))},e.\u0275prov=c.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},sVT9:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("AytR"),o=n("2Vo4"),i=n("UXun"),r=n("fXoL"),c=n("tk/3");let l=(()=>{class e{constructor(e){this.http=e,this.cicloLectivoSubject=new o.a(null),this.cicloLectivo$=this.cicloLectivoSubject.asObservable().pipe(Object(i.a)(1)),this.url=a.a.apiURI}setCicloLectivo(e){this.cicloLectivoSubject.next(e)}obtenerCiclosLectivos(){return this.http.get(this.url+"ciclolectivos")}obtenerCicloActual(){return this.http.get(this.url+"ciclolectivos/actual")}}return e.\u0275fac=function(t){return new(t||e)(r.ac(c.a))},e.\u0275prov=r.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);